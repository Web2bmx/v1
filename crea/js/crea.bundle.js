/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./crea/js/scripts.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./crea/js/appManager.js":
/*!*******************************!*\
  !*** ./crea/js/appManager.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = appManager;\n\nvar _pp = __webpack_require__(/*! ./pp */ \"./crea/js/pp.js\");\n\nvar _pp2 = _interopRequireDefault(_pp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction appManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var firstTime = true;\n\n  var setAppNavigation = function setAppNavigation() {\n    $(\".app-control-step:gt(0)\").hide();\n    $(\"#control-view-nav>a\").on(\"click\", function (e) {\n      e.preventDefault();\n      var totalItems = $(\"#app-control>.app-control-step\").length;\n\n      if (!$(this).hasClass(\"disabled\")) {\n        var inc = $(this).attr(\"href\") == \"#next\" ? 1 : -1;\n        _ctrl.current_step += inc;\n\n        if (_ctrl.current_step >= totalItems) {\n          _ctrl.current_step = totalItems;\n        }\n\n        if (_ctrl.current_step == 1) {\n          $(\"#control-view-nav>a:eq(0)\").removeClass(\"disabled\");\n        }\n\n        goToStep(_ctrl.current_step);\n\n        _ctrl.new_templateManager.updateContent();\n      }\n    });\n\n    for (var i = 0; i < $(\"#app-control>.app-control-step\").length - 1; i++) {\n      $(\"#control-view-index\").append($(\".control-view-index-item.current\").clone().removeClass(\"current\"));\n    }\n\n    $(document).on(\"click\", \".control-view-index-item\", function () {\n      var $this = $(this);\n      var index = $(\".control-view-index-item\").index($this);\n      _ctrl.current_step = index;\n      goToStep(_ctrl.current_step);\n\n      _ctrl.new_templateManager.updateContent();\n    });\n    $(\".control-view-nav-display-mark:eq(\" + _ctrl.current_step + \")\").addClass(\"control-view-nav-display-mark-active\");\n    centerNav();\n    $(window).resize(function () {\n      centerNav();\n    });\n    $(\".finish\").on(\"click\", function () {\n      // _ctrl.current_step --;\n      // $(\"#app-cover\").hide();\n      var id_pagina = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_templateId');\n\n      var id_usuario = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_userId');\n\n      var template_info = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_template'); //Crear pago\n\n\n      $.post(\"scripts/crear_pago.php\", {\n        id_usuario: id_usuario,\n        paquete: 'gratuito',\n        info_pago: 'N/A',\n        id_pagina: id_pagina,\n        id_paypal: 'N/A'\n      }).done(function (PagoResult) {\n        // Crear página\n        $.post(\"scripts/publicar_pagina.php\", {\n          site_name: template_info.selections.siteName.text,\n          contenido: $('#template')[0].outerHTML,\n          title: template_info.selections['inp-content-name'].text,\n          description: template_info.selections['inp-content-slogan'].text\n        }).done(function (PublishResult) {\n          $('.final-msgs p').text('La página se ha publicado exitosamente');\n          $('.final-msgs').dialog(\"open\");\n          manageFinalData(PagoResult.fecha, 'gratuito');\n        }).fail(function (result) {\n          $('.final-msgs p').text('Algo ha salido al tratar de publicar tu página. Por favor, intenta más tarde');\n          $('.final-msgs').dialog(\"open\");\n        });\n      }).fail(function (result) {// Algo salio mal\n      });\n    });\n    /* SWITCH TEMPLATE */\n\n    $(\".ventana-login\").dialog(\"option\", \"width\", 400);\n    $(\".final-msgs\").dialog(\"option\", \"width\", 400);\n    $(\".change-page\").click(function (e) {\n      e.preventDefault();\n\n      var userId = _ctrl.new_dataManager.getObjFromLocalStorage(\"web2b_userId\");\n\n      _ctrl.new_PageManager.fillModal(userId, function () {\n        location.reload();\n      });\n\n      $(\".ventana-login\").dialog(\"open\");\n    });\n    $(\".cerrar-ventana\").click(function () {\n      $(\".ventana-login\").dialog(\"close\");\n    });\n    $(\".cerrar-final-msgs\").click(function () {\n      $(\".final-msgs\").dialog(\"close\");\n    });\n    /*NAV BUTTONS*/\n\n    $(\".app-cover-start .next\").click(function () {\n      closeAppCover();\n    });\n    /*APP SWITCH*/\n\n    var $appControl_h = $(\"#app-control\").css(\"height\");\n    $(\"[id^='switch-']\").on('click', function () {\n      if ($(this).attr(\"id\").indexOf(\"view\") > -1) {\n        $(\"#switch-view\").hide();\n        $(\"#switch-edit\").show();\n        $(\"#control-view-nav\").hide();\n        $(\"#app-control>.app-control-step\").hide();\n        $(\"#app-control\").addClass(\"view\");\n      } else {\n        $(\"#switch-view\").show();\n        $(\"#switch-edit\").hide();\n        $(\"#control-view-nav\").show();\n        $(\"#app-control>.app-control-step:eq(\" + _ctrl.current_step + \")\").show();\n        $(\"#app-control\").removeClass(\"view\");\n        centerNav();\n        topStepMargin();\n        $(window).resize(function () {\n          topStepMargin();\n        });\n      }\n\n      $(\"body\").toggleClass(\"init\");\n    });\n    /* Go back */\n\n    $(\"#back\").click(function () {\n      _ctrl.current_step--;\n      $(\"#app-cover\").hide();\n    });\n  };\n\n  var setAppControls = function setAppControls() {\n    $(document.body).on(\"change\", \"[name^='inp-'][type!='text']\", function () {\n      _ctrl.new_templateManager.updateContent();\n    });\n    $(document.body).on(\"keyup\", \"[name^='inp-'][type='text'],textarea[name^='inp-']\", function (e) {\n      _ctrl.lastKeyPressed = e.keyCode || e.which;\n\n      if (!$(e.currentTarget).attr('pattern') || _ctrl.new_validator.isValidinput($(e.currentTarget))) {\n        _ctrl.new_templateManager.updateContent();\n\n        $(\".form-error\", $(e.currentTarget).parent()).hide();\n      } else {\n        $(\".form-error\", $(e.currentTarget).parent()).show();\n      }\n    });\n    $(\"#app-control\").on(\"itemWasAdded\", function () {\n      _ctrl.current_step = _ctrl.new_itemManager.getIndex();\n      goToStep(_ctrl.current_step);\n      centerNav();\n    });\n  };\n\n  var setAppSteps = function setAppSteps() {\n    /* TEMPLATE DESIGN*/\n    $(\".control-design-thumb\").on('click', function () {\n      $(\".control-design-thumb aside.thumb-selected\").removeClass(\"thumb-selected\");\n      $(\"aside\", this).addClass(\"thumb-selected\");\n      $(\"[name^='inp-design']\").removeAttr(\"checked\");\n      $(\"input\", this).attr(\"checked\", \"checked\");\n\n      _ctrl.new_templateManager.loadTemplate();\n    });\n    /* Upload image*/\n\n    $('.file-upload button').on(\"click\", function (e) {\n      $(e.currentTarget).next(\"input\").click();\n    });\n    $('.file-upload input[type=file]').on('change', function (e) {\n      var file = $(e.currentTarget)[0].files[0].name;\n      $(\"span\", $(e.currentTarget).parent()).text(file);\n      $(\"input[type=submit]\", $(e.currentTarget).closest(\"form\")).attr(\"disabled\", false);\n    });\n    $('.file-upload').on('submit', _ctrl.new_imageManager.uploadImage);\n    /* manage dialog */\n\n    $(\"#ok_btn\").click(function () {\n      $(\".alert.dialog\").dialog(\"close\");\n    });\n  };\n\n  var closeAppCover = function closeAppCover() {\n    $(\"#app-cover\").hide();\n    $(\".app-cover-start\").hide();\n    $(\".app-cover-finish\").show();\n    _ctrl.current_step = 0;\n  };\n\n  var goToStep = function goToStep(step) {\n    if (step == -1) {\n      $(\"#app-cover\").show();\n      $(\".app-cover-start\").show();\n      $(\".app-cover-finish\").hide();\n    } else if (step < $(\".app-control-step\").length) {\n      $(\".app-control-step\").hide().filter(\":eq(\" + step + \")\").show();\n      $(\".control-view-index-item\").removeClass(\"current\").filter(\":eq(\" + step + \")\").addClass(\"current\");\n    } else {\n      if (firstTime) {\n        // Hide buttons when already a page is built\n        var actual_page = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_actualPage');\n\n        if (actual_page && actual_page.paquete) {\n          manageFinalData(actual_page.fecha_fin, actual_page.paquete);\n        } else {\n          $(\".created\").hide();\n          /* PAYPAL Buttons */\n\n          var new_paypalBtn1 = new _pp2.default();\n          new_paypalBtn1.init('#paypal-button-container', 'basico');\n          var new_paypalBtn2 = new _pp2.default();\n          new_paypalBtn2.init('#paypal-button-container2', 'premium');\n        }\n\n        firstTime = false;\n      }\n\n      $(\"#app-cover\").show();\n      $(\".app-cover-start\").hide();\n      $(\".app-cover-finish\").show();\n    }\n  };\n\n  var manageFinalData = function manageFinalData(fecha, paquete) {\n    $(\".app-cover-finish-package:first-child .finish\").css('visibility', 'hidden');\n    $('#paypal-button-container').empty();\n    $('#paypal-button-container').attr(\"style\", \"\");\n    $('#paypal-button-container2').empty();\n    $('#paypal-button-container2').attr(\"style\", \"\");\n\n    if (paquete === 'premium') {\n      var new_paypalBtn2 = new _pp2.default();\n      new_paypalBtn2.init('#paypal-button-container2', 'premium');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } else {\n      var new_paypalBtn1 = new _pp2.default();\n      new_paypalBtn1.init('#paypal-button-container', 'basico');\n\n      var _new_paypalBtn = new _pp2.default();\n\n      _new_paypalBtn.init('#paypal-button-container2', 'premium');\n\n      $('#paypal-button-container').css('margin-bottom', '0');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } // number of days\n\n\n    var today = new Date();\n    var finArr = fecha.split(\"-\");\n    var fin = new Date(Number(finArr[0]), Number(finArr[1]) - 1, Number(finArr[2]));\n    var diff = void 0;\n\n    if (fin >= today) {\n      diff = Math.ceil(Math.abs(today - fin) / (1000 * 3600 * 24));\n      $(\".daysLeft\").text(diff);\n      $(\".created\").fadeIn(400);\n    } else {\n      diff = 0;\n      $(\".caduco\").fadeIn(400);\n      $(\".created\").hide();\n    }\n  };\n\n  var topStepMargin = function topStepMargin() {\n    var actual = $(\".app-control-step:visible > div\"),\n        remain = $(\"#app-control\").height() - $(\"#app-control-nav\").height() - $(\"#app-switch\").height() - actual.height();\n    actual.css(\"margin-top\", remain > 0 ? remain / 2 + \"px\" : \"0\");\n  };\n\n  var centerNav = function centerNav() {\n    var parentW = $(\"#control-view-index\").parent().width();\n    $(\"#control-view-index\").css(\"padding-left\", parentW / 2 - $(\"#control-view-index\").width() / 2);\n  };\n\n  return {\n    init: init,\n    setAppNavigation: setAppNavigation,\n    setAppControls: setAppControls,\n    setAppSteps: setAppSteps,\n    topStepMargin: topStepMargin,\n    goToStep: goToStep\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/appManager.js?");

/***/ }),

/***/ "./crea/js/colorManager.js":
/*!*********************************!*\
  !*** ./crea/js/colorManager.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = colorManager;\n\nfunction colorManager() {\n  var _ctrl = null;\n  var $palettes = null;\n  var palette_id = 0;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var getPalettes = function getPalettes() {\n    return $palettes;\n  };\n\n  var loadColors = function loadColors($template) {\n    $palettes = $template.find(\".template-color\");\n    setColors();\n  };\n\n  var setColors = function setColors() {\n    $(\"#app-control-palettes\").find(\">*\").remove().detach();\n    var t = $palettes.length;\n\n    for (var i = 0; i < $palettes.length; i++) {\n      var $control_color = $(\".template.control-color\").clone();\n      var $palette = $palettes.filter(\":eq(\" + i + \")\");\n      $control_color.removeClass(\"template\");\n      $control_color.find(\"h4\").html($palette.find(\"h1\").html());\n      $control_color.find(\"input\").attr(\"id\", \"inp-palette-\" + i);\n      $control_color.find(\"input\").attr(\"value\", i); //$control_color.find(\".control-color-thumb\").css({ \"background-color\" : $palette.find(\"p:eq(0)\").html() });\n\n      for (var k = 0; k < 3; k++) {\n        $control_color.find(\".control-color-thumb-bg:eq(\" + k + \")\").css({\n          \"background-color\": $palette.find(\"p:eq(\" + k + \")\").html()\n        });\n      }\n\n      $(\"#app-control-palettes\").append($control_color);\n    }\n\n    $(\".control-color-thumb\").on('click', function () {\n      var $this = $(this);\n      $this.closest(\"#app-control-palettes\").find(\".control-color-thumb\").removeClass(\"thumb-selected\");\n      $this.next(\"input\").trigger(\"click\");\n      $this.addClass(\"thumb-selected\");\n    });\n  };\n\n  var changeColors = function changeColors(selections) {\n    if ($(\"[name='inp-palette']:checked\").length == 0) {\n      if (selections[\"palette\"]) {\n        palette_id = selections[\"palette\"].value;\n      } else {\n        selections[\"palette\"] = {\n          \"name\": \"palette\",\n          \"type\": \"id\",\n          \"value\": \"0\"\n        };\n        palette_id = selections[\"palette\"].value;\n      }\n\n      $(\".control-color-thumb:eq(\" + palette_id + \")\").addClass(\"thumb-selected\");\n      $(\"[name='inp-palette']:eq(\" + palette_id + \")\").attr(\"checked\", \"checked\");\n    } else {\n      palette_id = $(\"[name='inp-palette']:checked\").val();\n      selections[\"palette\"].value = palette_id;\n    }\n\n    return palette_id;\n  };\n\n  var updateColors = function updateColors($template) {\n    $template.attr(\"class\", $palettes.filter(\":eq(\" + palette_id + \")\").attr(\"id\"));\n  };\n\n  var HexColorToRGBA = function HexColorToRGBA(c, a) {\n    var s = \"rgba(\" + parseInt(c.substr(1, 2), 16) + \",\" + parseInt(c.substr(3, 2), 16) + \",\" + parseInt(c.substr(5, 2), 16) + \", \" + a + \")\";\n    return s;\n  };\n\n  return {\n    init: init,\n    loadColors: loadColors,\n    changeColors: changeColors,\n    updateColors: updateColors\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/colorManager.js?");

/***/ }),

/***/ "./crea/js/creator.js":
/*!****************************!*\
  !*** ./crea/js/creator.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = creator;\n\nvar _colorManager = __webpack_require__(/*! ./colorManager */ \"./crea/js/colorManager.js\");\n\nvar _colorManager2 = _interopRequireDefault(_colorManager);\n\nvar _imageManager = __webpack_require__(/*! ./imageManager */ \"./crea/js/imageManager.js\");\n\nvar _imageManager2 = _interopRequireDefault(_imageManager);\n\nvar _tooltipManager = __webpack_require__(/*! ./tooltipManager */ \"./crea/js/tooltipManager.js\");\n\nvar _tooltipManager2 = _interopRequireDefault(_tooltipManager);\n\nvar _itemManager = __webpack_require__(/*! ./itemManager */ \"./crea/js/itemManager.js\");\n\nvar _itemManager2 = _interopRequireDefault(_itemManager);\n\nvar _templateManager = __webpack_require__(/*! ./templateManager */ \"./crea/js/templateManager.js\");\n\nvar _templateManager2 = _interopRequireDefault(_templateManager);\n\nvar _appManager = __webpack_require__(/*! ./appManager */ \"./crea/js/appManager.js\");\n\nvar _appManager2 = _interopRequireDefault(_appManager);\n\nvar _dataManager = __webpack_require__(/*! ../../js/dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nvar _pageManager = __webpack_require__(/*! ../../js/pageManager */ \"./js/pageManager.js\");\n\nvar _pageManager2 = _interopRequireDefault(_pageManager);\n\nvar _validator = __webpack_require__(/*! ./validator */ \"./crea/js/validator.js\");\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _userValidator = __webpack_require__(/*! ./userValidator */ \"./crea/js/userValidator.js\");\n\nvar _userValidator2 = _interopRequireDefault(_userValidator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction creator() {\n  var _this = this;\n\n  _this.sessionStatus = \"START SESSION\"; //Esta variable determina el estatus de la sesión y tiene tres valores:\n  //START SESSION quiere decir que el objeto web2b_template no ha sido creado, por lo tanto es una sesión completamente nueva\n  //RESUME SESSION quiere decir que el objeto web2b_template sí existe, por lo tanto se está retomando una sesión anterior\n  //UPDATE SESSION se asigna al final de la función updateContent solo la primera vez que esta corre, esto quiere decir que al inicio de la sesión, \n  //una vez que el template se ha cargado y el contenido se ha actualizado por primera vez, el estatus siempre será UPDATE SESSION\n\n  _this.current_step = 0;\n  _this.lastKeyPressed = 0;\n  _this.jd = {};\n  /*Objects*/\n\n  _this.new_colorManager = new _colorManager2.default();\n\n  _this.new_colorManager.init(_this);\n\n  _this.new_imageManager = new _imageManager2.default();\n\n  _this.new_imageManager.init(_this);\n\n  _this.new_itemManager = new _itemManager2.default();\n\n  _this.new_itemManager.init(_this);\n\n  _this.new_templateManager = new _templateManager2.default();\n\n  _this.new_templateManager.init(_this);\n\n  _this.new_appManager = new _appManager2.default();\n\n  _this.new_appManager.init(_this);\n\n  _this.new_userValidator = new _userValidator2.default();\n\n  _this.new_userValidator.init(_this);\n  /* */\n\n\n  var new_tooltipManager = new _tooltipManager2.default();\n  /*External objects*/\n\n  _this.new_dataManager = new _dataManager2.default();\n  _this.new_PageManager = new _pageManager2.default();\n  _this.new_validator = new _validator2.default();\n  /*FUNCTIONS*/\n\n  var validation = function validation() {\n    /*1*/\n\n    /*This function does two things*/\n\n    /* 1) Sets a value for _this.jd as either localstorage->web2bTemplate or Web2b*/\n    var web2b = _this.new_dataManager.getObjFromLocalStorage(\"web2b\");\n\n    var web2bTemplate = _this.new_dataManager.getObjFromLocalStorage(\"web2b_template\");\n\n    if (web2bTemplate.respuestas && Object.keys(web2bTemplate.respuestas).length > 2) {\n      _this.sessionStatus = \"RESUME SESSION\";\n    }\n\n    _this.jd = Object.keys(web2bTemplate).length ? web2bTemplate : web2b;\n    /* 2) it checks if _this.jd has 'respuestas' and if it has 3 of them, if it doesn´t have them it sends the User to Root /, otherwise to start the Tour*/\n\n    if (!_this.jd.respuestas) {\n      location.href = \"/\";\n    } else if (Object.keys(_this.jd.respuestas).length < 3) {\n      location.href = \"/tour\";\n    }\n  };\n\n  var init = function init() {\n    /*2*/\n    _this.new_userValidator.setUserValidation();\n\n    _this.new_appManager.setAppNavigation(); //3\n\n\n    _this.new_appManager.setAppControls(); //4\n\n\n    _this.new_appManager.setAppSteps(); //5\n\n\n    _this.new_templateManager.loadTemplate(); //6\n\n\n    _this.new_itemManager.setItems(); //7\n\n\n    new_tooltipManager.setTooltips(); //8\n  };\n\n  return {\n    validation: validation,\n    init: init\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/creator.js?");

/***/ }),

/***/ "./crea/js/imageManager.js":
/*!*********************************!*\
  !*** ./crea/js/imageManager.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = imageManager;\n\nfunction imageManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setImageSelection = function setImageSelection(ide) {\n    $(\".photo-container\").html(\"\"); //Check if there are already images upload from user\n\n    var imagenes = _ctrl.jd.imagenes;\n\n    if (imagenes) {\n      for (var k in imagenes) {\n        var arr = imagenes[k].split(\"#\");\n\n        for (var i = 0; i < arr.length; i++) {\n          var $img_thumb = $(\".img-thumb.template\").clone();\n          $img_thumb.removeClass(\"template\").find(\".img-thumb-cont\").css({\n            \"background-image\": \"url(/crea/client_images/\" + arr[i] + \")\"\n          });\n          $img_thumb.find(\"input\").attr(\"value\", \"/crea/client_images/\" + arr[i]);\n          var $this_img_thumb = $img_thumb.clone();\n          $this_img_thumb.find(\"input\").attr(\"name\", \"inp-img-\" + k);\n          $(\"#app-control-images-\" + k + \" .photo-container\").append($this_img_thumb);\n        }\n      }\n    }\n    /* LOAD IMAGES FROM UNSPLASH */\n\n\n    $.getJSON(\"https://api.unsplash.com/photos/search\", {\n      client_id: '2aaa588b969353176886d12597d7ee7ee3860961c9ac468df4ccf5198ab20e64',\n      query: ide,\n      page: 1,\n      per_page: 20,\n      orientation: 'landscape'\n    }).done(function (data) {\n      var image_types = [\"hero\", \"aboutus\", \"cta\"];\n      var items = $(\"#template .item\").length;\n\n      for (var _i = 1; _i <= items; _i++) {\n        image_types.push('item-' + _i);\n      }\n\n      for (var x = 0; x < data.length; x++) {\n        var $img_thumb = $(\".img-thumb.template\").clone();\n        $img_thumb.removeClass(\"template\").find(\".img-thumb-cont\").css({\n          \"background-image\": \"url(\" + data[x].urls.regular + \")\"\n        }).attr(\"data-img-url\", data[x].urls.regular);\n        $img_thumb.find(\"input\").attr(\"value\", data[x].urls.regular);\n\n        for (var _i2 = 0; _i2 < image_types.length; _i2++) {\n          var $this_img_thumb = $img_thumb.clone();\n          $this_img_thumb.find(\"input\").attr(\"name\", \"inp-img-\" + image_types[_i2]);\n          $(\"#app-control-images-\" + image_types[_i2] + \" .photo-container\").append($this_img_thumb);\n        }\n      }\n\n      $(document.body).on('click', '.img-thumb-cont', function () {\n        var $this = $(this);\n        $this.closest(\"[id^='app-control-images']\").find(\".img-thumb\").removeClass(\"thumb-selected\");\n        $this.next(\"input\").trigger(\"click\");\n        $this.parent().addClass(\"thumb-selected\");\n      });\n      $(document.body).on('click', '.img-thumb-cont-zoom', function () {\n        var img_url = $(this).parent().find(\".img-thumb-cont\").attr(\"data-img-url\");\n        $(\"#single-modal>div\").html(\"<img src='\" + img_url + \"' class='img-thumb-zoomed' />\");\n        $(\"#single-modal\").fadeIn();\n      });\n    }).fail(function () {});\n  };\n\n  var uploadImage = function uploadImage(e) {\n    e.preventDefault();\n    var f = $(\"input[type=file]\", e.currentTarget),\n        formData = new FormData(),\n        ide = f.data(\"ide\"),\n        name = f.attr(\"name\");\n    $(\"input[type=submit],button\", e.currentTarget).attr(\"disabled\", true);\n    formData.append(f.attr(\"name\"), f[0].files[0]);\n    $.ajax({\n      url: \"scripts/uploadImage.php\",\n      type: \"post\",\n      data: formData,\n      cache: false,\n      contentType: false,\n      processData: false\n    }).done(function (res) {\n      if (res.upload == 1) {\n        var imagenes = _ctrl.jd.imagenes || {};\n        imagenes[name] = imagenes[name] ? imagenes[name] + \"#\" + res.texto : res.texto;\n        var $img_thumb = $(\".img-thumb.template\").clone();\n        $img_thumb.removeClass(\"template\").find(\".img-thumb-cont\").css({\n          \"background-image\": \"url(/crea/client_images/\" + res.texto + \")\"\n        });\n        $img_thumb.find(\"input\").attr(\"value\", \"/crea/client_images/\" + res.texto);\n        var $this_img_thumb = $img_thumb.clone();\n        $this_img_thumb.find(\"input\").attr(\"name\", \"inp-img-\" + name);\n        $(\"#app-control-images-\" + name + \" .photo-container\").prepend($this_img_thumb);\n        _ctrl.jd.imagenes = imagenes;\n\n        _ctrl.new_dataManager.saveWeb2bJson(_ctrl.jd);\n      }\n    }).always(function () {\n      $(\"button\", e.currentTarget).attr(\"disabled\", false);\n    });\n  };\n\n  return {\n    init: init,\n    setImageSelection: setImageSelection,\n    uploadImage: uploadImage\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/imageManager.js?");

/***/ }),

/***/ "./crea/js/itemManager.js":
/*!********************************!*\
  !*** ./crea/js/itemManager.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = itemManager;\n\nfunction itemManager() {\n  var _ctrl = null;\n  var number_of_items = 1;\n  /*WORK, number of items should come from jd*/\n\n  var index = 0;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setItems = function setItems() {\n    $(\"#inp-content-item-add-y\").on(\"click\", function () {\n      includeProduct();\n    });\n  };\n\n  var includeProduct = function includeProduct() {\n    var addItem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var current_step = $(\"#inp-content-item-add-y\").closest(\".app-control-step\").index();\n    var $this = $(\"#inp-content-item-add-y\");\n    index = $(\".app-control-step\").index($this.closest(\".app-control-step\"));\n    $(\"#control-view-index\").prepend($(\".control-view-index-item.current\").clone().removeClass(\"current\"));\n\n    if (addItem) {\n      addItems(number_of_items);\n\n      _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"products\", number_of_items + 1, \"text\");\n    }\n\n    number_of_items++;\n    var $i_t = $(\".app-control-step:eq(\" + (current_step - 1) + \")\").clone();\n    $i_t.find(\"h2:eq(0)\").html(\"Tu producto o servicio (\" + number_of_items + \")\");\n    $i_t.find(\"input[type=text]\").attr({\n      \"id\": \"inp-content-title-item-\" + number_of_items,\n      \"name\": \"inp-content-title-item-\" + number_of_items,\n      \"placeholder\": \"Tu producto o servicio\"\n    }).val(\"\");\n    $i_t.find(\"textarea\").attr({\n      \"id\": \"inp-content-item-\" + number_of_items,\n      \"name\": \"inp-content-item-\" + number_of_items,\n      \"placeholder\": \"Tu producto o servicio\"\n    }).val(\"\");\n    $i_t.find(\"h2:eq(1)\").html(\"Elige una imagen para tu producto o servicio\");\n    $i_t.find(\"#app-control-images-item-\" + (number_of_items - 1)).attr(\"id\", \"app-control-images-item-\" + number_of_items);\n    $i_t.find(\"input\").each(function () {\n      if ($(this).attr(\"type\") != \"file\" && $(this).attr(\"type\") != \"submit\") {\n        $(this).attr(\"name\", \"inp-img-item-\" + number_of_items);\n      }\n\n      if ($(this).attr(\"type\") == \"file\") {\n        $(this).attr(\"name\", \"item-\" + number_of_items);\n      }\n    });\n    $this.closest(\".app-control-step\").before($i_t);\n    $this.prop('checked', false);\n    $(\"#inp-content-item-add-n\").trigger(\"click\");\n    $(\"#app-control\").trigger(\"itemWasAdded\");\n  };\n\n  var addItems = function addItems(i) {\n    if ($(\"#template .items:last .item\").length == 3) {\n      $(\"#template .items:last\").after(\"<div class='items'></div>\");\n    }\n\n    var $item_copy = $(\".item:last\").clone();\n    $item_copy.find(\"#img-item-\" + i).attr(\"id\", \"img-item-\" + (i + 1));\n    $item_copy.find(\"#val-content-title-item-\" + i).attr(\"id\", \"val-content-title-item-\" + (i + 1));\n    $item_copy.find(\"#val-content-item-\" + i).attr(\"id\", \"val-content-item-\" + (i + 1));\n    $(\"#template .items:last\").append($item_copy);\n    var c = \"\";\n\n    switch ($(\"#template .items:last .item\").length % 3) {\n      case 0:\n        c = \"three\";\n        break;\n\n      case 1:\n        c = \"one\";\n        break;\n\n      case 2:\n        c = \"two\";\n        break;\n    }\n\n    $(\"#template .items:last\").attr(\"class\", \"items\").addClass(c);\n  };\n\n  var getNumberOfItems = function getNumberOfItems() {\n    if (_ctrl.jd && _ctrl.jd.selections && _ctrl.jd.selections.products) {\n      number_of_items = _ctrl.jd.selections.products.text;\n    }\n\n    return number_of_items;\n  };\n\n  var getIndex = function getIndex() {\n    return index;\n  };\n\n  var checkItemsNumber = function checkItemsNumber() {\n    var actual_in_navigation = $(\"#app-control .product\").length;\n\n    if (_ctrl.jd && _ctrl.jd.selections && _ctrl.jd.selections.products) {\n      if (actual_in_navigation < _ctrl.jd.selections.products.text) {\n        var jd_items = _ctrl.jd.selections.products.text;\n        var difference = jd_items - actual_in_navigation;\n\n        for (var i = 0; i < difference; i++) {\n          includeProduct(false);\n        }\n\n        _ctrl.new_appManager.goToStep(0);\n      }\n    } else {\n      var items_in_template = $(\"#template .item\").length;\n\n      if (actual_in_navigation < items_in_template) {\n        var _difference = items_in_template - actual_in_navigation;\n\n        for (var _i = 0; _i < _difference; _i++) {\n          includeProduct(false);\n        }\n\n        _ctrl.new_appManager.goToStep(0);\n      }\n\n      _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"products\", items_in_template, \"text\");\n    }\n  };\n\n  return {\n    init: init,\n    setItems: setItems,\n    addItems: addItems,\n    getNumberOfItems: getNumberOfItems,\n    getIndex: getIndex,\n    checkItemsNumber: checkItemsNumber\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/itemManager.js?");

/***/ }),

/***/ "./crea/js/pp.js":
/*!***********************!*\
  !*** ./crea/js/pp.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = paypalBtn;\n\nvar _dataManager = __webpack_require__(/*! ../../js/dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction paypalBtn() {\n  var _this = this;\n\n  var element = void 0;\n  var subtotal = void 0;\n  var total = void 0;\n  var description = void 0;\n  var name = void 0;\n  var tax = void 0;\n  var new_dataManager = new _dataManager2.default();\n  var paquetes = {\n    'basico': {\n      'nombre': 'Básico',\n      'description': \"Sitio por un a\\xF1o,\\n        Logotipo,\\n        Agregar contenido,\\n        Actualizaciones\",\n      'precio': '899'\n    },\n    'premium': {\n      'nombre': 'Premium',\n      'description': \"Dominio .com o .mx\\n        Sitio por un a\\xF1o,\\n        Logotipo,\\n        Agregar contenido,\\n        Actualizaciones\",\n      'precio': '1599'\n    }\n  };\n\n  var manageFinalData = function manageFinalData(fecha, paquete) {\n    $(\".app-cover-finish-package:first-child .finish\").css('visibility', 'hidden');\n    $('#paypal-button-container').empty();\n    $('#paypal-button-container').attr(\"style\", \"\");\n    $('#paypal-button-container2').empty();\n    $('#paypal-button-container2').attr(\"style\", \"\");\n\n    if (paquete === 'premium') {\n      var new_paypalBtn2 = new paypalBtn();\n      new_paypalBtn2.init('#paypal-button-container2', 'premium');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } else {\n      var new_paypalBtn1 = new paypalBtn();\n      new_paypalBtn1.init('#paypal-button-container', 'basico');\n\n      var _new_paypalBtn = new paypalBtn();\n\n      _new_paypalBtn.init('#paypal-button-container2', 'premium');\n\n      $('#paypal-button-container').css('margin-bottom', '0');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } // number of days\n\n\n    var today = new Date();\n    var finArr = fecha.split(\"-\");\n    var fin = new Date(Number(finArr[0]), Number(finArr[1]) - 1, Number(finArr[2]));\n    var diff = void 0;\n\n    if (fin >= today) {\n      diff = Math.ceil(Math.abs(today - fin) / (1000 * 3600 * 24));\n      $(\".daysLeft\").text(diff);\n      $(\".created\").fadeIn(400);\n    } else {\n      diff = 0;\n      $(\".caduco\").fadeIn(400);\n      $(\".created\").hide();\n    }\n  };\n\n  var init = function init(element, tipo) {\n    _this.element = element;\n    _this.subtotal = paquetes[tipo].precio;\n    _this.tax = (Number(_this.subtotal) * 0.16).toFixed(2).toString();\n    _this.total = (Number(_this.subtotal) * 1.16).toFixed(2).toString();\n    _this.name = paquetes[tipo].nombre;\n    _this.description = paquetes[tipo].description; // Render the PayPal button\n\n    return paypal.Button.render({\n      // Set your environment\n      env: 'sandbox',\n      // sandbox | production\n      client: {\n        sandbox: 'AeYhV898LwB_wov8dDxwQeKLrx1Yegkzeldu8P5WNPgfxi-ic1-5qlFnL4LK0xlkdrISIc5NeVNVi-Y9',\n        production: 'Ab6PGV7NqDwbG9BNJ_2b0ttvuP53CaldZaLyn4YE2Pux_65VWHhL-IfbiYPQAkDayRzgu_3qAjHUkxUd'\n      },\n      locale: 'es_MX',\n      // Specify the style of the button\n      style: {\n        label: 'paypal',\n        // checkout | credit | pay | buynow | generic\n        size: 'responsive',\n        // small | medium | large | responsive\n        shape: 'rect',\n        // pill | rect\n        color: 'blue',\n        // gold | blue | silver | black\n        tagline: false,\n        layout: 'horizontal',\n        fundingicons: true\n      },\n      // Specify allowed and disallowed funding sources\n      //\n      // Options:\n      // - paypal.FUNDING.CARD\n      // - paypal.FUNDING.CREDIT\n      // - paypal.FUNDING.ELV\n      funding: {\n        allowed: [paypal.FUNDING.CARD],\n        disallowed: [paypal.FUNDING.CREDIT]\n      },\n      // Enable Pay Now checkout flow (optional)\n      commit: true,\n      // PayPal Client IDs - replace with your own\n      // Create a PayPal app: https://developer.paypal.com/developer/applications/create\n      // Set up a payment\n      payment: function payment(data, actions) {\n        return actions.payment.create({\n          transactions: [{\n            amount: {\n              total: _this.total,\n              currency: 'MXN',\n              details: {\n                subtotal: _this.subtotal,\n                tax: _this.tax\n              }\n            },\n            description: 'Paquete ' + _this.name,\n            item_list: {\n              items: [{\n                name: 'Paquete ' + _this.name,\n                description: _this.description,\n                quantity: '1',\n                price: _this.subtotal,\n                currency: 'MXN',\n                tax: _this.tax\n              }]\n            }\n          }],\n          note_to_payer: 'Contáctanos si necesitas ayuda en tu compra.'\n        });\n      },\n      onAuthorize: function onAuthorize(data, actions) {\n        return actions.payment.execute().then(function (PaymentDetails) {\n          var id_pagina = new_dataManager.getObjFromLocalStorage('web2b_templateId');\n          var id_usuario = new_dataManager.getObjFromLocalStorage('web2b_userId');\n          var template_info = new_dataManager.getObjFromLocalStorage('web2b_template');\n          var info_pago = JSON.stringify(PaymentDetails);\n          var paquete = PaymentDetails.transactions[0].item_list.items[0].name.search('Básico') != -1 ? 'basico' : 'premium'; //Crear pago\n\n          $.post(\"scripts/crear_pago.php\", {\n            id_usuario: id_usuario,\n            paquete: paquete,\n            info_pago: info_pago,\n            id_pagina: id_pagina,\n            id_paypal: PaymentDetails.id\n          }).done(function (PagoResult) {\n            // Crear página\n            $.post(\"scripts/publicar_pagina.php\", {\n              site_name: template_info.selections.siteName.text,\n              contenido: $('#template')[0].outerHTML,\n              title: template_info.selections['inp-content-name'].text,\n              description: template_info.selections['inp-content-slogan'].text\n            }).done(function (PublishResult) {\n              $('.final-msgs p').text('La página se ha publicado exitosamente');\n              $('.final-msgs').dialog(\"open\");\n              manageFinalData(PagoResult.fecha, paquete);\n            }).fail(function (result) {\n              $('.final-msgs p').text('Algo ha salido al tratar de publicar tu página. Por favor, intenta más tarde');\n              $('.final-msgs').dialog(\"open\");\n            });\n          }).fail(function (result) {// Algo salio mal\n          });\n        });\n      },\n      onCancel: function onCancel(data, actions) {// Show a cancel page or return to cart\n      },\n      onError: function onError(err) {// Show an error page here, when an error occurs\n      }\n    }, _this.element);\n  };\n\n  return {\n    init: init\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/pp.js?");

/***/ }),

/***/ "./crea/js/scripts.js":
/*!****************************!*\
  !*** ./crea/js/scripts.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _creator = __webpack_require__(/*! ./creator */ \"./crea/js/creator.js\");\n\nvar _creator2 = _interopRequireDefault(_creator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar new_creator = new _creator2.default();\nnew_creator.validation();\n$(document).ready(function () {\n  new_creator.init();\n});\n\n//# sourceURL=webpack:///./crea/js/scripts.js?");

/***/ }),

/***/ "./crea/js/templateManager.js":
/*!************************************!*\
  !*** ./crea/js/templateManager.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = templateManager;\n\nfunction templateManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var loadTemplate = function loadTemplate() {\n    var id = $(\"[name^='inp-design']:checked\").val();\n    id = id.replace(\"inp-design-\", \"\");\n\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\"aside\", $(\"input[value='inp-design-\" + id + \"']\").parent()).addClass(\"thumb-selected\");\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      id = _ctrl.jd.selections.templateTypeId.value;\n      $(\"[name^='inp-design']\").removeAttr(\"checked\");\n      var newInp = $(\"input[value='inp-design-\" + id + \"']\");\n      newInp.attr(\"checked\", \"checked\");\n      $(\"aside\", newInp.parent()).addClass(\"thumb-selected\");\n    }\n    /* */\n\n\n    _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"templateTypeId\", id, \"config\");\n\n    $(\"#template\").html(\"\");\n    var content_id = _ctrl.jd.respuestas[22].resp_id == \"\" ? 2 : _ctrl.jd.respuestas[22].resp_id;\n    var src = \"Templates/Template-\" + id + \"/index.php?t=\" + content_id;\n    $(\"#template-cont\").load(src + \" #template\", function () {\n      var $template = $(\"#template\");\n      $template.find(\"link[href^='css/styles.css']\").attr(\"href\", \"Templates/Template-\" + id + \"/css/styles.css\"); //$template.find(\".img-cont\").removeAttr(\"style\").attr(\"style\", \"background-image: url('Templates/Images/placeholder.png')\");\n\n      var items_in_jd = 1;\n\n      if (_ctrl.jd && _ctrl.jd.selections && _ctrl.jd.selections.products) {\n        items_in_jd = _ctrl.jd.selections.products.text;\n      }\n\n      var items_in_template = $(\"#template .item\").length;\n\n      for (var i = items_in_template; i < items_in_jd; i++) {\n        _ctrl.new_itemManager.addItems(i);\n      }\n\n      _ctrl.new_itemManager.checkItemsNumber();\n\n      _ctrl.new_colorManager.loadColors($template);\n\n      _ctrl.new_imageManager.setImageSelection(_ctrl.jd.respuestas[22].localizacion_en);\n\n      updateContent();\n      /*$.ajax({\r\n      \turl: (\"Templates/Template-\" + id + \"/js/scripts.js\"),\r\n      \tdataType: \"script\",\r\n      \tsuccess: onTemplateLoaded\r\n      });*/\n    });\n  };\n\n  var updateContent = function updateContent() {\n    var $template = $(\"#template\");\n    var selections = _ctrl.jd.selections || {};\n    /* */\n\n    _ctrl.new_appManager.topStepMargin();\n\n    _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"palette\", _ctrl.new_colorManager.changeColors(selections), 'id');\n\n    _ctrl.new_colorManager.updateColors($template);\n\n    updateTexts($template, selections);\n    updateRemoveControls($template, selections);\n    updateImages($template, selections);\n\n    _ctrl.new_dataManager.saveWeb2bJson(_ctrl.jd);\n\n    if (_ctrl.sessionStatus != \"UPDATE SESSION\") {\n      _ctrl.sessionStatus = \"UPDATE SESSION\";\n    }\n  };\n\n  var updateTexts = function updateTexts($template, selections) {\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\"[id^='inp-contact-'], [id^='inp-content-'], #siteName\").each(function () {\n        var $this = $(this);\n        var i_id = $this.attr(\"id\");\n        var v_id = i_id.replace(\"inp\", \"val\");\n        selections[i_id] = {};\n\n        if (i_id == \"inp-content-slogan\") {\n          var slogan_from_tour = \"\";\n\n          for (var key in _ctrl.jd.respuestas) {\n            if (_ctrl.jd.respuestas[key].tipo == 3) {\n              slogan_from_tour = _ctrl.jd.respuestas[key].respuesta;\n              break;\n            }\n          }\n\n          _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"inp-content-slogan\", slogan_from_tour, 'text');\n\n          $this.val(selections[i_id] ? selections[i_id].text : '');\n          $template.find(\"#\" + v_id).html(selections[i_id] ? selections[i_id].text : '');\n        }\n\n        if (i_id == \"inp-content-title-aboutus\" || i_id == \"inp-content-aboutus\") {\n          _ctrl.new_dataManager.saveSelected(_ctrl.jd, i_id, $template.find(\"#\" + v_id).html(), 'text');\n\n          $this.val(selections[i_id] ? selections[i_id].text : '');\n        }\n      });\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      $(\"[id^='inp-contact-'], [id^='inp-content-'], #siteName\").each(function () {\n        var $this = $(this);\n        var i_id = $this.attr(\"id\");\n        var v_id = i_id.replace(\"inp\", \"val\");\n        $this.val(selections[i_id] ? selections[i_id].text : '');\n        var arr = void 0;\n\n        switch (i_id) {\n          case \"inp-contact-email\":\n            $template.find(\"#val-contact-email\").html( true ? selections[i_id].text : undefined);\n            break;\n\n          case \"inp-contact-map\":\n            $template.find(\"#val-contact-map\").html(selections[i_id] ? selections[i_id].text : '');\n            break;\n\n          case \"inp-contact-facebook\":\n            arr = selections[i_id] && selections[i_id].text ? selections[i_id].text.toLowerCase().split('facebook.com/') : '';\n            $template.find(\"#val-contact-facebook\").html('<span class=\"font-icon\">g</span> <a href=\"' + selections[i_id].text + '\">' + arr[1] + '</a>');\n            break;\n\n          case \"inp-contact-twitter\":\n            arr = selections[i_id] && selections[i_id].text ? selections[i_id].text.toLowerCase().split('twitter.com/') : '';\n            $template.find(\"#val-contact-twitter\").html( true ? selections[i_id].text : undefined);\n            break;\n\n          case \"siteName\":\n            $(\".siteName span\").text(selections[i_id] ? selections[i_id].text : '');\n            $(\".siteName\").attr(\"href\",  true ? selections[i_id].text : undefined);\n            break;\n\n          default:\n            $template.find(\"#\" + v_id).html(selections[i_id] ? selections[i_id].text : '');\n            break;\n        }\n      });\n      $template.find(\".footer-column:not(:has(li:visible))\").hide();\n    }\n\n    if (_ctrl.sessionStatus == \"UPDATE SESSION\") {\n      $(\"[id^='inp-contact-'], [id^='inp-content-'], #siteName\").each(function () {\n        var $this = $(this);\n        var i_id = $this.attr(\"id\");\n        var v_id = i_id.replace(\"inp\", \"val\");\n        var arr = void 0;\n\n        if ($this.val() != \"\") {\n          _ctrl.new_dataManager.saveSelected(_ctrl.jd, i_id, $this.val(), 'text');\n\n          $template.find(\"#\" + v_id).show().closest(\".footer-column\").show();\n\n          switch (i_id) {\n            case \"inp-contact-email\":\n              $template.find(\"#val-contact-email\").html( true ? selections[i_id].text : undefined);\n              break;\n\n            case \"inp-contact-map\":\n              $template.find(\"#val-contact-map\").html(selections[i_id] ? selections[i_id].text : '');\n              break;\n\n            case \"inp-contact-facebook\":\n              arr = selections[i_id] && selections[i_id].text ? selections[i_id].text.toLowerCase().split('facebook.com/') : '';\n              $template.find(\"#val-contact-facebook\").html( true ? selections[i_id].text : undefined);\n              break;\n\n            case \"inp-contact-twitter\":\n              arr = selections[i_id] && selections[i_id].text ? selections[i_id].text.toLowerCase().split('twitter.com/') : '';\n              $template.find(\"#val-contact-twitter\").html( true ? selections[i_id].text : undefined);\n              break;\n\n            case \"siteName\":\n              $(\".siteName span\").text(selections[i_id] ? selections[i_id].text : '');\n              $(\".siteName\").attr(\"href\",  true ? selections[i_id].text : undefined);\n              break;\n\n            default:\n              $template.find(\"#\" + v_id).html(selections[i_id] ? selections[i_id].text : '');\n              break;\n          }\n        } else {\n          if ($this.hasClass(\"optional\")) {\n            if ($(\".app-control-step:eq(\" + _ctrl.current_step + \")\").has($this).length > 0) {\n              if (_ctrl.lastKeyPressed == 8) {\n                $template.find(\"#\" + v_id).html($this.val());\n              }\n            }\n\n            if ($(\".app-control-step:eq(\" + (_ctrl.current_step - 1) + \")\").has($this).length > 0) {\n              $template.find(\"#\" + v_id).hide();\n            }\n          } else {\n            $template.find(\"#\" + v_id).html($this.attr(\"placeholder\"));\n          }\n        }\n      });\n      $template.find(\".footer-column:not(:has(li:visible))\").hide();\n    }\n  };\n\n  var updateRemoveControls = function updateRemoveControls($template, selections) {\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\"[id^='inp-rem-']\").each(function () {\n        var $this = $(this);\n        var v = \"Y\";\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, $this.attr(\"id\"), v, 'text');\n      });\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      $(\"[id^='inp-rem-']\").each(function () {\n        var $this = $(this);\n        var v = selections[$this.attr(\"id\")].text;\n        var sec = \"\";\n\n        switch ($this.attr(\"id\")) {\n          case \"inp-rem-content-cta\":\n            sec = \".cta-cont\";\n            break;\n\n          case \"inp-rem-content-aboutus\":\n            sec = \".aboutus-cont\";\n            break;\n        }\n\n        if (v == \"N\") {\n          $this.prop(\"checked\", false);\n          $template.find(sec).hide();\n        }\n      });\n    }\n\n    if (_ctrl.sessionStatus == \"UPDATE SESSION\") {\n      $(\"[id^='inp-rem-']\").each(function () {\n        var $this = $(this);\n        var v = \"Y\";\n        var sec = \"\";\n\n        switch ($this.attr(\"id\")) {\n          case \"inp-rem-content-cta\":\n            sec = \".cta-cont\";\n            break;\n\n          case \"inp-rem-content-aboutus\":\n            sec = \".aboutus-cont\";\n            break;\n        }\n\n        if ($this.is(\":checked\")) {\n          v = \"Y\";\n        } else {\n          v = \"N\";\n        }\n\n        selections[$this.attr(\"id\")].text = v;\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, $this.attr(\"id\"), v, 'text');\n\n        if (v == \"N\") {\n          $template.find(sec).hide();\n        } else {\n          $template.find(sec).show();\n        }\n      });\n    }\n  };\n\n  var updateImages = function updateImages($template, selections) {\n    if (_ctrl.sessionStatus == \"START SESSION\") {}\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      for (var key in selections) {\n        switch (selections[key].type) {\n          case \"image\":\n            $(key).attr(\"class\", \"img img-MC img-L\").css({\n              \"background-image\": \"url(\" + selections[key].img + \")\"\n            });\n            break;\n        }\n      }\n    }\n\n    if (_ctrl.sessionStatus == \"UPDATE SESSION\") {\n      $(\"[name^='inp-img-']:checked\").each(function () {\n        var $this = $(this);\n        var img_src = $this.val();\n        var n_name = $this.attr(\"name\").replace(\"inp-\", \"#\"); //\n\n        var img = new Image();\n\n        img.onload = function () {\n          var o = \"S\";\n\n          if (this.width > this.height) {\n            o = \"L\";\n          }\n\n          if (this.width < this.height) {\n            o = \"P\";\n          }\n\n          $template.find(n_name).attr(\"class\", \"img img-cont img-MC img-\" + o).css({\n            \"background-image\": \"url(\" + img_src + \")\"\n          });\n        };\n\n        img.src = img_src; //Save selection to object\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, n_name, img_src, 'image');\n      });\n    }\n  };\n\n  return {\n    init: init,\n    loadTemplate: loadTemplate,\n    updateContent: updateContent\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/templateManager.js?");

/***/ }),

/***/ "./crea/js/tooltipManager.js":
/*!***********************************!*\
  !*** ./crea/js/tooltipManager.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toolTipManager;\n\nfunction toolTipManager() {\n  var setTooltips = function setTooltips() {\n    $(\".app-control-step-tooltip-info\").prev(\"*\").append($(\".app-control-step-tooltip.template\").clone().removeClass(\"template\"));\n    $(\".app-control-step-tooltip\").click(function () {\n      var $target = $(this).parent().next(\".app-control-step-tooltip-info\");\n\n      if ($target.is(\":visible\")) {\n        $target.removeClass(\"active\");\n      } else {\n        $target.addClass(\"active\");\n      }\n    });\n  };\n\n  return {\n    setTooltips: setTooltips\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/tooltipManager.js?");

/***/ }),

/***/ "./crea/js/userValidator.js":
/*!**********************************!*\
  !*** ./crea/js/userValidator.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = userValidator;\n\nfunction userValidator() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setUserValidation = function setUserValidation() {\n    $(\".dialog\").dialog({\n      autoOpen: false,\n      modal: true,\n      show: {\n        effect: \"fade\",\n        duration: 1000\n      },\n      hide: {\n        effect: \"fade\",\n        duration: 1000\n      },\n      closeOnEscape: false\n    });\n\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\".app-new-start.dialog\").dialog(\"option\", \"width\", 400);\n      $(\".app-new-start.dialog\").dialog(\"open\");\n    } else {\n      _ctrl.new_PageManager.getPaginas().then(function () {\n        if (_ctrl.new_PageManager.hasPages()) $(\".change-page\").show();\n      });\n    }\n\n    $(\"#single-modal i\").on(\"click\", function () {\n      $(\"#single-modal\").fadeOut();\n    });\n    /* ON NEW PAGE */\n\n    $(\"[name='start']\").on(\"click\", function () {\n      $(\".form-error\").hide();\n\n      if ($(\"#nombrePagina\").val().trim() == \"\" || $(\"#correo\").val().trim() == \"\" || $(\"#password\").val().trim() == \"\") {\n        $(\".empty-fields\").css(\"display\", \"block\");\n      } else if (!_ctrl.new_validator.isValidDomain($(\"#nombrePagina\").val().trim().toLowerCase())) {\n        $(\".name-invalid\").show();\n      } else if (!_ctrl.new_validator.isEmail($(\"#correo\").val())) {\n        $(\".not-email\").css(\"display\", \"block\");\n      } else if (!_ctrl.new_validator.validPassword($(\"#password\").val())) {\n        $(\".password-invalid\").css(\"display\", \"block\");\n      } else {\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, 'inp-content-name', $(\"#nombrePagina\").val().trim(), 'text');\n\n        $.post(\"scripts/crear_usuario.php\", {\n          correo: $(\"#correo\").val().trim(),\n          password: $(\"#password\").val(),\n          info: JSON.stringify(_ctrl.jd)\n        }).done(function (result) {\n          if (!result.ok) {\n            $(\".otherMsgs\").html(result.error);\n            $(\".otherMsgs\").css(\"display\", \"block\");\n          } else {\n            $(\".app-new-start.dialog\").dialog('close');\n\n            _ctrl.new_dataManager.setDataObjects(result, _ctrl.jd);\n\n            if (result.paginas.length > 1) {\n              $(\".change-page\").show();\n            }\n          }\n        }).fail(function (result) {\n          response = JSON.parse(result.responseText);\n          $(\".invalid-response\").text(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + response.mensaje);\n          $(\".invalid-response\").css(\"display\", \"block\");\n        });\n      }\n    });\n  };\n\n  return {\n    init: init,\n    setUserValidation: setUserValidation\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/userValidator.js?");

/***/ }),

/***/ "./crea/js/validator.js":
/*!******************************!*\
  !*** ./crea/js/validator.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = validator;\n\nfunction validator() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var isValidinput = function isValidinput(element) {\n    var value = element.val();\n    var regex = new RegExp(element.attr(\"pattern\"));\n    return regex.test(value);\n  };\n\n  var isEmail = function isEmail(email) {\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    return regex.test(email);\n  };\n\n  var isValidDomain = function isValidDomain(name) {\n    var regex = /([a-z0-9])/;\n    return regex.test(name);\n  };\n\n  var validPassword = function validPassword(password) {\n    var regex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d!$%@#£€*?&]{6,}$/;\n    return regex.test(password);\n  };\n\n  return {\n    init: init,\n    isValidinput: isValidinput,\n    isEmail: isEmail,\n    isValidDomain: isValidDomain,\n    validPassword: validPassword\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/validator.js?");

/***/ }),

/***/ "./js/dataManager.js":
/*!***************************!*\
  !*** ./js/dataManager.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = dataManager;\n\nfunction dataManager() {\n  var getObjFromLocalStorage = function getObjFromLocalStorage(key) {\n    var jsonData = localStorage.getItem(key);\n\n    if (jsonData == null) {\n      jsonData = {};\n    } else {\n      try {\n        jsonData = JSON.parse(jsonData);\n      } catch (e) {\n        return jsonData;\n      }\n    }\n\n    return jsonData;\n  };\n\n  var getPagesFromDB = function getPagesFromDB() {\n    var userId = getObjFromLocalStorage(\"web2b_userId\");\n    return $.get(\"scripts/getActualPages.php\", {\n      userId: userId\n    }).done(function (result) {\n      if (!result.ok) {\n        console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result.mensaje);\n      }\n\n      return result.paginas;\n    }).fail(function (result) {\n      console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result);\n      return {};\n    });\n  };\n\n  var saveWeb2bJson = function saveWeb2bJson(jd) {\n    var strJD = JSON.stringify(jd),\n        userId = getObjFromLocalStorage(\"web2b_userId\"),\n        idSitio = getObjFromLocalStorage(\"web2b_templateId\"),\n        savedJD = localStorage.getItem(\"web2b_template\");\n\n    if (strJD && savedJD != strJD && !(userId instanceof Object) && !(idSitio instanceof Object)) {\n      localStorage.setItem(\"web2b_template\", strJD);\n      $.post(\"scripts/salvar_datos.php\", {\n        userId: userId,\n        idSitio: idSitio,\n        info: strJD\n      }).done(function (result) {\n        if (!result.ok) {\n          console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result.mensaje);\n        }\n      }).fail(function (result) {\n        console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result);\n      });\n    }\n  };\n\n  var saveSelected = function saveSelected(jd, name, value, type) {\n    var selections = jd.selections || {};\n    selections[name] = selections[name] || {};\n\n    switch (type) {\n      case 'image':\n        selections[name].img = value;\n        selections[name].type = type;\n        break;\n\n      case 'text':\n        selections[name].text = value;\n        selections[name].type = type;\n        break;\n\n      case 'config':\n        selections[name].value = value;\n        selections[name].type = type;\n        break;\n    } //Save selection to object\n\n\n    jd.selections = selections;\n  };\n\n  var setDataObjects = function setDataObjects(data, jd) {\n    localStorage.removeItem(\"web2b\");\n    localStorage.setItem(\"web2b_templateId\", data.idSitio);\n    localStorage.setItem(\"web2b_userId\", data.userId);\n    localStorage.setItem(\"web2b_template\", JSON.stringify(jd));\n    localStorage.setItem(\"web2b_pages\", JSON.stringify(data.paginas));\n  };\n\n  return {\n    getObjFromLocalStorage: getObjFromLocalStorage,\n    saveWeb2bJson: saveWeb2bJson,\n    saveSelected: saveSelected,\n    getPagesFromDB: getPagesFromDB,\n    setDataObjects: setDataObjects\n  };\n}\n\n//# sourceURL=webpack:///./js/dataManager.js?");

/***/ }),

/***/ "./js/pageManager.js":
/*!***************************!*\
  !*** ./js/pageManager.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = pageManager;\n\nvar _dataManager = __webpack_require__(/*! ./dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction pageManager() {\n  var paginas = [],\n      new_Datamanager = new _dataManager2.default();\n\n  var setPaginasInfoFromExternal = function setPaginasInfoFromExternal(p) {\n    paginas = p;\n  };\n\n  var getPaginas = function getPaginas() {\n    return new_Datamanager.getPagesFromDB().then(function (p) {\n      var templateId = new_Datamanager.getObjFromLocalStorage(\"web2b_templateId\");\n      paginas = p.paginas;\n      localStorage.setItem(\"web2b_pages\", p.paginas);\n      p.paginas.forEach(function (value) {\n        if (Number(value.idSitio) === templateId) {\n          localStorage.setItem(\"web2b_actualPage\", JSON.stringify(value));\n        }\n      });\n    });\n  };\n\n  var fillModal = function fillModal(userId, callback) {\n    // manejar varias paginas de un solo usuario??\n    var html = \"\";\n    var actualPage = new_Datamanager.getObjFromLocalStorage(\"web2b_actualPage\");\n\n    for (var i = 0, jd; i < paginas.length; i++) {\n      if (paginas[i].idSitio === actualPage.idSitio) continue;\n      jd = JSON.parse(paginas[i].info);\n      var name = jd.nombre || jd.selections.siteName.text || \"no name\";\n      html += \"<option class=\\\"inserted\\\" value=\\\"\" + i + \"\\\">\\n                \" + name + \"\\n            </option>\";\n    }\n\n    $(\".proyectos-disponibles .inserted\").remove();\n    $(\".proyectos-disponibles\").append(html);\n    $(\".ventana-login > div\").hide();\n    $(\".login-paginas\").show();\n    $(\".llevame\").click({\n      pags: paginas,\n      userId: userId\n    }, function (e) {\n      var pagina = $(\".proyectos-disponibles option:selected\").val(),\n          d = e.data;\n\n      if (pagina != \"\") {\n        localStorage.setItem(\"web2b_template\", d.pags[pagina].info);\n        localStorage.setItem(\"web2b_templateId\", d.pags[pagina].idSitio);\n        localStorage.setItem(\"web2b_userId\", d.userId);\n        localStorage.setItem(\"web2b_pages\", JSON.stringify(d.pags));\n        localStorage.setItem(\"web2b_actualPage\", JSON.stringify(d.pags[pagina]));\n        callback();\n      } else {\n        $(\".login-paginas .form-error\").css(\"display\", \"block\");\n      }\n    });\n  };\n\n  var hasPages = function hasPages() {\n    return paginas.length > 1 ? true : false;\n  };\n\n  return {\n    setPaginasInfoFromExternal: setPaginasInfoFromExternal,\n    getPaginas: getPaginas,\n    fillModal: fillModal,\n    hasPages: hasPages\n  };\n}\n\n//# sourceURL=webpack:///./js/pageManager.js?");

/***/ })

/******/ });