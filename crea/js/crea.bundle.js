/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./crea/js/scripts.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./crea/js/appManager.js":
/*!*******************************!*\
  !*** ./crea/js/appManager.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = appManager;\n\nvar _pp = __webpack_require__(/*! ./pp */ \"./crea/js/pp.js\");\n\nvar _pp2 = _interopRequireDefault(_pp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction appManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setApp = function setApp() {\n    /*SET MENU*/\n    _ctrl.new_menuManager.setMenu();\n    /*DESIGN SELECTION*/\n\n\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n      setTimeout(function () {\n        $(\".control-design-cont\").prepend($(\".control-design-thumb.thumb-selected\"));\n        $(\".control-design-cont\").prepend($(\".control-design-thumb:last\"));\n      }, 500);\n      $(\".control-design-thumb\").on(\"click\", function (e) {\n        var $this = $(this);\n        var i = $(\".control-design-thumb\").index($this);\n\n        if (i == 0) {\n          $this.parent().prepend($(\".control-design-thumb:last\"));\n        }\n\n        if (i == 2) {\n          $this.parent().append($(\".control-design-thumb:first\"));\n        }\n      });\n    }\n\n    $(\".control-design-thumb\").on('click', function () {\n      $(this).parent().find(\".thumb-selected\").removeClass(\"thumb-selected\");\n      $(this).addClass(\"thumb-selected\");\n      $(\"[name^='inp-design']\").prop(\"checked\", false);\n      $(this).find(\"[name^='inp-design']\").prop(\"checked\", true);\n\n      _ctrl.new_templateManager.loadTemplate(true);\n    });\n    /*START SCREEN NEXT BUTTON*/\n\n    $(\".app-cover-start .next\").click(function () {\n      $(\"#app-cover\").hide();\n      $(\".app-cover-start\").hide();\n      $(\".app-cover-finish\").show();\n      _ctrl.current_step = 0;\n    });\n    /*FINISH BUTTON*/\n\n    $(\".finish\").on(\"click\", function () {\n      _ctrl.new_paymentsManager.createPayment();\n    });\n    /* SWITCH PAGE CONTROL*/\n\n    /* */\n\n    $(\".change-page\").click(function () {\n      $(\"#single-modal>div\").append($(\".page-switcher\")).find(\".page-switcher:last\").show();\n      $(\"#single-modal\").addClass(\"small\").fadeIn();\n      $(\"body\").append($(\"#modal-bg\"));\n    });\n    /* */\n    //$(\".ventana-login\").dialog(\"option\", \"width\", 400);\n    //$(\".final-msgs\").dialog(\"option\", \"width\", 400);\n\n    $(\".change-page\").click(function (e) {\n      e.preventDefault();\n\n      var userId = _ctrl.new_dataManager.getObjFromLocalStorage(\"web2b_userId\");\n\n      _ctrl.new_PageManager.fillModal(userId, function () {\n        location.reload();\n      }); //$(\".ventana-login\").dialog(\"open\");\n\n    });\n    /*LOGOUT BUTTON*/\n\n    $('.logout').click(function (e) {\n      e.preventDefault();\n      localStorage.clear();\n      location.href = \"/\";\n    });\n    $(\".cerrar-ventana\").click(function () {\n      $(\".ventana-login\").dialog(\"close\");\n    });\n    $(\".cerrar-final-msgs\").click(function () {\n      $(\".final-msgs\").dialog(\"close\");\n    });\n    /*BACK BUTTON ON PAYMENTS*/\n\n    $(\"#back\").click(function () {\n      _ctrl.current_step--;\n      $(\"#app-cover\").hide();\n    });\n    /*PUBLISH BUTTON*/\n\n    $(\"#publish\").click(function () {\n      _ctrl.new_paymentsManager.publishPagina();\n    });\n    /*UPDATE PAGES*/\n\n    var actual_page = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_actualPage');\n\n    if (actual_page.fecha_fin != null) {\n      var diff = _ctrl.new_utilsManager.fecha_diff(actual_page.fecha_fin);\n\n      if (diff != 0) {\n        $('#publish').show();\n      }\n    }\n  };\n\n  return {\n    init: init,\n    setApp: setApp\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/appManager.js?");

/***/ }),

/***/ "./crea/js/colorManager.js":
/*!*********************************!*\
  !*** ./crea/js/colorManager.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = colorManager;\n\nfunction colorManager() {\n  var _ctrl = null;\n  var _color_hex = \"#666666\";\n  var _palettes = {\n    light: 'Luminoso',\n    dark: 'Oscuro',\n    grey: 'Monocromático',\n    impact: 'Impactante',\n    colorful: 'Colorido'\n  };\n  var _palette = \"impact\";\n\n  var init = function init(_that) {\n    _ctrl = _that;\n    setPalettes();\n  };\n\n  var setPalettes = function setPalettes() {\n    for (var k in _palettes) {\n      var $control_color = $(\".template.control-color\").clone().removeClass(\"template\");\n      $control_color.find(\"h4\").html(_palettes[k]);\n      $control_color.find(\"input\").attr(\"id\", \"inp-palette-\" + k);\n      $control_color.find(\"input\").attr(\"value\", k);\n      $control_color.find(\".control-color-thumb\").attr(\"id\", \"thumb-\" + k);\n      $(\"#app-control-palettes\").append($control_color);\n    }\n  };\n\n  var updateColor = function updateColor(selections, $template) {\n    if (_ctrl.sessionStatus == 'START SESSION' || _ctrl.sessionStatus == 'RESUME SESSION') {\n      if (selections[\"color\"]) {\n        _color_hex = selections[\"color\"].text;\n      } else {\n        selections[\"color\"] = {\n          \"name\": \"color\",\n          \"type\": \"text\",\n          \"text\": _color_hex\n        };\n      }\n\n      $(\"#inp-color\").attr(\"value\", _color_hex);\n\n      if (selections[\"palette\"]) {\n        _palette = selections[\"palette\"].text;\n      } else {\n        selections[\"palette\"] = {\n          \"name\": \"palette\",\n          \"type\": \"text\",\n          \"text\": _palette\n        };\n      }\n\n      $(\"#thumb-\" + _palette).addClass(\"thumb-selected\");\n      $(\"#inp-palette-\" + _palette).attr(\"checked\", \"checked\");\n    }\n\n    if (_ctrl.sessionStatus == 'UPDATE SESSION') {\n      _palette = $(\"[name='inp-palette']:checked\").val();\n      selections[\"palette\"].text = _palette;\n      _color_hex = $(\"#inp-color\").val();\n      selections[\"color\"].text = _color_hex;\n    }\n\n    var id = $(\"[name^='inp-design']:checked\").val().replace(\"inp-design-\", \"\") * 1;\n\n    var url = \"Templates/php/color/style.php?t=\" + id + \"&hex=\" + _color_hex.replace(\"#\", \"\");\n\n    $(\"#style-color\").html(\"\").load(url);\n    /* */\n\n    $template.attr(\"class\", \"color-\" + _palette);\n  };\n\n  return {\n    init: init,\n    updateColor: updateColor\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/colorManager.js?");

/***/ }),

/***/ "./crea/js/creator.js":
/*!****************************!*\
  !*** ./crea/js/creator.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = creator;\n\nvar _colorManager = __webpack_require__(/*! ./colorManager */ \"./crea/js/colorManager.js\");\n\nvar _colorManager2 = _interopRequireDefault(_colorManager);\n\nvar _imageManager = __webpack_require__(/*! ./imageManager */ \"./crea/js/imageManager.js\");\n\nvar _imageManager2 = _interopRequireDefault(_imageManager);\n\nvar _tooltipManager = __webpack_require__(/*! ./tooltipManager */ \"./crea/js/tooltipManager.js\");\n\nvar _tooltipManager2 = _interopRequireDefault(_tooltipManager);\n\nvar _itemManager = __webpack_require__(/*! ./itemManager */ \"./crea/js/itemManager.js\");\n\nvar _itemManager2 = _interopRequireDefault(_itemManager);\n\nvar _templateManager = __webpack_require__(/*! ./templateManager */ \"./crea/js/templateManager.js\");\n\nvar _templateManager2 = _interopRequireDefault(_templateManager);\n\nvar _appManager = __webpack_require__(/*! ./appManager */ \"./crea/js/appManager.js\");\n\nvar _appManager2 = _interopRequireDefault(_appManager);\n\nvar _menuManager = __webpack_require__(/*! ./menuManager */ \"./crea/js/menuManager.js\");\n\nvar _menuManager2 = _interopRequireDefault(_menuManager);\n\nvar _paymentsManager = __webpack_require__(/*! ./paymentsManager */ \"./crea/js/paymentsManager.js\");\n\nvar _paymentsManager2 = _interopRequireDefault(_paymentsManager);\n\nvar _utilsManager = __webpack_require__(/*! ./utilsManager */ \"./crea/js/utilsManager.js\");\n\nvar _utilsManager2 = _interopRequireDefault(_utilsManager);\n\nvar _dataManager = __webpack_require__(/*! ../../js/dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nvar _pageManager = __webpack_require__(/*! ../../js/pageManager */ \"./js/pageManager.js\");\n\nvar _pageManager2 = _interopRequireDefault(_pageManager);\n\nvar _validator = __webpack_require__(/*! ./validator */ \"./crea/js/validator.js\");\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _userValidator = __webpack_require__(/*! ./userValidator */ \"./crea/js/userValidator.js\");\n\nvar _userValidator2 = _interopRequireDefault(_userValidator);\n\nvar _mapsManager = __webpack_require__(/*! ./mapsManager */ \"./crea/js/mapsManager.js\");\n\nvar _mapsManager2 = _interopRequireDefault(_mapsManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**/\n\n/**/\nfunction creator() {\n  console.log(\"hi\");\n\n  var _this = this;\n\n  _this.sessionStatus = \"START SESSION\"; //Esta variable determina el estatus de la sesión y tiene tres valores:\n  //START SESSION quiere decir que el objeto web2b_template no ha sido creado, por lo tanto es una sesión completamente nueva\n  //RESUME SESSION quiere decir que el objeto web2b_template sí existe, por lo tanto se está retomando una sesión anterior\n  //UPDATE SESSION se asigna al final de la función updateContent solo la primera vez que esta corre, esto quiere decir que al inicio de la sesión, \n  //una vez que el template se ha cargado y el contenido se ha actualizado por primera vez, el estatus siempre será UPDATE SESSION\n\n  _this.current_step = 0;\n  _this.lastKeyPressed = 0;\n  _this.jd = {};\n  _this.jd_templateId = null;\n  /*Objects*/\n\n  _this.new_colorManager = new _colorManager2.default();\n\n  _this.new_colorManager.init(_this);\n\n  _this.new_imageManager = new _imageManager2.default();\n\n  _this.new_imageManager.init(_this);\n\n  _this.new_itemManager = new _itemManager2.default();\n\n  _this.new_itemManager.init(_this);\n\n  _this.new_templateManager = new _templateManager2.default();\n\n  _this.new_templateManager.init(_this);\n\n  _this.new_appManager = new _appManager2.default();\n\n  _this.new_appManager.init(_this);\n\n  _this.new_menuManager = new _menuManager2.default();\n\n  _this.new_menuManager.init(_this);\n\n  _this.new_paymentsManager = new _paymentsManager2.default();\n\n  _this.new_paymentsManager.init(_this);\n\n  _this.new_utilsManager = new _utilsManager2.default();\n\n  _this.new_utilsManager.init(_this);\n\n  _this.new_userValidator = new _userValidator2.default();\n\n  _this.new_userValidator.init(_this);\n  /**/\n\n\n  _this.new_mapManager = new _mapsManager2.default();\n\n  _this.new_mapManager.init(_this);\n  /* */\n\n\n  var new_tooltipManager = new _tooltipManager2.default();\n  /*External objects*/\n\n  _this.new_dataManager = new _dataManager2.default();\n  _this.new_PageManager = new _pageManager2.default();\n  _this.new_validator = new _validator2.default();\n  /*FUNCTIONS*/\n\n  var validation = function validation() {\n    /*1*/\n\n    /*This function does two things*/\n\n    /* 1) Sets a value for _this.jd as either localstorage->web2bTemplate or Web2b*/\n    var web2b = _this.new_dataManager.getObjFromLocalStorage(\"web2b\");\n\n    var web2bTemplate = _this.new_dataManager.getObjFromLocalStorage(\"web2b_template\");\n\n    if (web2bTemplate.respuestas && Object.keys(web2bTemplate.respuestas).length > 2) {\n      _this.sessionStatus = \"RESUME SESSION\";\n    }\n\n    _this.jd = Object.keys(web2bTemplate).length ? web2bTemplate : web2b;\n    _this.jd_templateId = _this.new_dataManager.getObjFromLocalStorage(\"web2b_templateId\");\n    /* 2) it checks if _this.jd has 'respuestas' and if it has 3 of them, if it doesn´t have them it sends the User to Root /, otherwise to start the Tour*/\n\n    if (!_this.jd.respuestas) {\n      location.href = \"/\";\n    } else if (Object.keys(_this.jd.respuestas).length < 3) {\n      location.href = \"/tour\";\n    }\n  };\n\n  var init = function init() {\n    /*2*/\n    _this.new_userValidator.setUserValidation();\n\n    _this.new_appManager.setApp(); //3\n\n\n    _this.new_templateManager.loadTemplate(_this.new_appManager.afterTemplateLoad); //6\n\n\n    new_tooltipManager.setTooltips(); //7\n\n    _this.new_paymentsManager.createPaypalButtons();\n  };\n\n  return {\n    validation: validation,\n    init: init\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/creator.js?");

/***/ }),

/***/ "./crea/js/imageManager.js":
/*!*********************************!*\
  !*** ./crea/js/imageManager.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = imageManager;\n\nfunction imageManager() {\n  var _ctrl = null;\n  var _uploaded_images = {};\n  var _loaded_images = [];\n  var _current_images = [];\n  var _uploaded_images_url = \"/crea/client_images/\";\n  var _err_unsplash = \"An error occurred while loading images from UnSplash.\";\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setImageSelection = function setImageSelection(ide) {\n    getImagesUploadedByUser();\n    loadImagesFromUnsplash(ide).then(function (data) {\n      onImagesLoaded(data);\n    }, function (err) {\n      console.log(err);\n    });\n  };\n\n  var getImagesUploadedByUser = function getImagesUploadedByUser() {\n    var s = \"-uploaded\";\n    var keys = Object.keys(_ctrl.jd.selections);\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i].indexOf(s) > -1) {\n        var ns = keys[i].replace(s, \"\");\n        var obj = _ctrl.jd.selections[keys[i]];\n\n        if (obj.text && obj.text != \"\") {\n          _uploaded_images[ns] = [];\n          var arr = obj.text.split(\",\");\n\n          for (var k = 0; k < arr.length; k++) {\n            _uploaded_images[ns].push(arr[k]);\n          }\n        }\n      }\n    }\n  };\n\n  var loadImagesFromUnsplash = function loadImagesFromUnsplash(ide) {\n    return new Promise(function (resolve, reject) {\n      $.post(\"scripts/unsplashMW.php\", {\n        api_path: \"https://api.unsplash.com/search/photos\",\n        params: \"query=\" + encodeURIComponent(ide) + \"&page=1&per_page=20&orientation=landscape\"\n      }).done(function (data) {\n        resolve(data.results);\n      }).fail(function () {\n        reject(Error(_err_unsplash));\n      });\n    });\n  };\n\n  var onImagesLoaded = function onImagesLoaded(data) {\n    if (_loaded_images.length == 0) {\n      for (var x = 0; x < data.length; x++) {\n        _loaded_images.push(data[x].urls.regular + '#web2b#' + data[x].links.download_location + '#web2b#' + data[x].user.links.html + '#web2b#' + data[x].user.name);\n      }\n    }\n\n    sortImages();\n  };\n\n  var sortImages = function sortImages() {\n    var image_types = [\"hero\", \"aboutus\", \"cta\", \"gallery\", \"logo\", \"item-0\"];\n    /**/\n\n    var items = $(\"#template .item\").length;\n    /**/\n\n    for (var i = 1; i <= items; i++) {\n      image_types.push('item-' + i);\n    }\n\n    for (var _i = 0; _i < image_types.length; _i++) {\n      var t = image_types[_i];\n      _current_images[t] = [];\n\n      if (_ctrl.jd.selections[\"#img-\" + t] && _ctrl.jd.selections[\"#img-\" + t].img) {\n        var jd_images = _ctrl.jd.selections[\"#img-\" + t].img.split(\",\");\n\n        for (var j = 0; j < jd_images.length; j++) {\n          if (jd_images[j] != \"\") {\n            _current_images[t].push([jd_images[j], \"selected\"]);\n          }\n        }\n      } // arr of base images from unsplash\n\n\n      var arr = []; // exclde from here if needed\n\n      if (t != 'logo') {\n        arr = _uploaded_images[\"#img-\" + t] ? _uploaded_images[\"#img-\" + t].concat(_loaded_images) : _loaded_images;\n      }\n\n      for (var _i2 = 0; _i2 < arr.length; _i2++) {\n        var add_image = true;\n\n        for (var k = 0; k < _current_images[t].length; k++) {\n          if (_current_images[t][k][0] == arr[_i2]) {\n            add_image = false;\n            break;\n          }\n        }\n\n        if (add_image) {\n          _current_images[t].push([arr[_i2], \"\"]);\n        }\n      } // Clean container before addin the images\n\n\n      $(\"#app-control-images-\" + t + \" .photo-container\").empty();\n\n      for (var _j = 0; _j < _current_images[t].length; _j++) {\n        setUploadedImage(_current_images[t][_j][0], t, _current_images[t][_j][1] == \"selected\", true, _j);\n      }\n    }\n  };\n\n  var setImagesOnStartSession = function setImagesOnStartSession() {\n    _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"#img-gallery\", \"\", 'image');\n\n    $(\"#gallery .gallery .img\").each(function (index) {\n      var img_src = $(this).attr(\"data-src\");\n      var p = _ctrl.jd.selections[\"#img-gallery\"].img == \"\" ? \"\" : _ctrl.jd.selections[\"#img-gallery\"].img + \",\";\n\n      _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"#img-gallery\", p + img_src, 'image');\n    });\n  };\n\n  var setImagesOnResumeSession = function setImagesOnResumeSession() {\n    for (var key in _ctrl.jd.selections) {\n      switch (_ctrl.jd.selections[key].type) {\n        case \"image\":\n          if (key == \"#img-logo\") {\n            if (_ctrl.jd.selections[key].active !== undefined && _ctrl.jd.selections[key].active === false) {\n              _ctrl.new_appManager.hideTemplateElements(true, key);\n\n              _ctrl.new_appManager.hideFormElements(\"[name='logo']\", '#img-logo', \"image\");\n            }\n\n            $(key).attr('src', _ctrl.jd.selections[key].img);\n          } else if (key == \"#img-gallery\") {\n            $(\"#gallery .gallery .img\").remove().detach();\n            var imgs_str = _ctrl.jd.selections[\"#img-gallery\"].img;\n            var imgs_arr = imgs_str.split(\",\");\n\n            for (var i = 0; i < imgs_arr.length; i++) {\n              var img = imgs_arr[i];\n\n              if (img && img.search('#web2b#') !== -1) {\n                var arr = img.split('#web2b#');\n                img = arr[0];\n              }\n\n              var $img = $(\".img.template\").clone().removeClass(\"template\").css('background-image', 'url(\"' + img + '\")');\n\n              if (img != \"\") {\n                $(\"#gallery .gallery\").append($img);\n              }\n            }\n\n            $(\"#gallery .gallery .img:gt(0)\").hide();\n          } else {\n            var _img = _ctrl.jd.selections[key].img;\n\n            if (_img && _img.search('#web2b#') !== -1) {\n              var _arr = _img.split('#web2b#');\n\n              _img = _arr[0];\n            }\n\n            $(key).attr(\"class\", \"img img-MC img-L\").css('background-image', 'url(\"' + _img + '\")');\n          }\n\n          break;\n      }\n    }\n  };\n\n  var setImagesOnUpdateSession = function setImagesOnUpdateSession(target) {\n    var $this = $(target);\n\n    if ($this.is(\"[value]\")) {\n      var img = $this.val();\n      var org_img = img;\n      var n_name = $this.attr(\"name\").replace(\"inp-\", \"#\");\n      var downloadUrl = $this.attr('data-download');\n      var autorUrl = $this.attr('data-autor');\n      var autor = $this.attr('data-autor-name');\n      img = downloadUrl !== undefined ? img + '#web2b#' + downloadUrl + '#web2b#' + autorUrl + '#web2b#' + autor : img;\n\n      if ($this.prop('checked')) {\n        /* call unsplash download link if exists and info*/\n        if (downloadUrl !== undefined) {\n          $.post(\"scripts/unsplashMW.php\", {\n            api_path: downloadUrl\n          });\n        }\n        /*SAVES IMAGE TO OBJECT*/\n\n\n        saveImageInStorage(img, n_name, n_name == \"#img-gallery\");\n        /*DISPLAYS IMAGE*/\n\n        displayImageOnTemplate(org_img, n_name.replace(\"#img-\", \"\"));\n      } else {\n        if ($this.closest(\"#app-control-images-gallery\").length > 0) {\n          /*REMOVES FROM SELECTION*/\n          var gallery_arr = _ctrl.jd.selections[n_name].img.split(',');\n\n          if (gallery_arr.indexOf(img) != -1) {\n            gallery_arr.splice(gallery_arr.indexOf(img), 1);\n            var new_arr = gallery_arr.join(',');\n\n            _ctrl.new_dataManager.saveSelected(_ctrl.jd, n_name, new_arr, 'image');\n          }\n          /*REMOVES FROM DISPLAY AND RESTARTS PLAYER*/\n          //$(\"#gallery .gallery .img\").filter(\"[style*='\" + org_img + \"']\").remove().end().hide().filter(\":eq(0)\").show();\n\n\n          $(\"#gallery .gallery .img\").filter(\"[style*='\" + org_img + \"']\").remove();\n          $(\"#gallery .gallery .img\").hide();\n          $(\"#gallery .gallery .img\").first().show();\n        }\n      }\n    }\n  };\n\n  var setUploadedImage = function setUploadedImage(img, cont, selected, append, index) {\n    var arr = '';\n\n    if (img && img.search('#web2b#') !== -1) {\n      arr = img.split('#web2b#');\n      img = arr[0];\n    }\n\n    var $img_thumb = $(\".img-thumb.template\").clone();\n    $img_thumb.removeClass(\"template\").find(\".img-thumb-cont\").css('background-image', 'url(\"' + img + '\")').attr(\"data-img-url\", img);\n    $img_thumb.find(\"input\").attr(\"value\", img);\n\n    if (arr != '') {\n      $img_thumb.find(\"input\").attr('data-download', arr[1]);\n      $img_thumb.find(\"input\").attr('data-autor', arr[2]);\n      $img_thumb.find(\"input\").attr('data-autor-name', arr[3]);\n      var autor_name = arr[3];\n      $img_thumb.find(\".img-thumb-autor a\").attr('href', arr[2] + \"?utm_source=web2b&utm_medium=referral\");\n      $img_thumb.find(\".img-thumb-autor a\").text(autor_name);\n      $img_thumb.find(\".img-thumb-autor\").show();\n    }\n\n    var $this_img_thumb = $img_thumb.clone();\n    $this_img_thumb.find(\"input\").attr(\"name\", \"inp-img-\" + cont);\n\n    if (selected) {\n      if (cont != \"gallery\") {\n        $(\"#app-control-images-\" + cont + \" .photo-container .thumb-selected\").find(\"input\").attr(\"checked\", \"checked\");\n        $(\"#app-control-images-\" + cont + \" .photo-container .thumb-selected\").removeClass(\"thumb-selected\");\n      }\n\n      $this_img_thumb.addClass(\"thumb-selected\").find(\"input\").attr(\"checked\", \"checked\");\n    }\n\n    if (append) {\n      $(\"#app-control-images-\" + cont + \" .photo-container\").append($this_img_thumb);\n    } else {\n      $(\"#app-control-images-\" + cont + \" .photo-container\").prepend($this_img_thumb);\n    }\n\n    if (cont == \"gallery\") {\n      $this_img_thumb.find(\"input\").attr(\"type\", \"checkbox\");\n      $this_img_thumb.find(\".img-thumb-overlay>span\").html(index + 1);\n    }\n  };\n\n  var uploadImage = function uploadImage(e) {\n    e.preventDefault();\n    var parent = $(e.currentTarget).parent();\n    var f = $(\"input[type=file]\", parent);\n    var formData = new FormData();\n    var ide = f.data(\"ide\");\n    var name = f.attr(\"name\"); // remove previous errors\n\n    $('.error', parent).remove();\n    $(\"input[type=submit],button\", parent).attr(\"disabled\", true);\n    formData.append(f.attr(\"name\"), f[0].files[0]);\n    $.ajax({\n      url: \"scripts/uploadImage.php\",\n      //?unique_id=\" + _ctrl.jd_templateId), \n      type: \"post\",\n      data: formData,\n      cache: false,\n      contentType: false,\n      processData: false\n    }).done(function (res) {\n      if (res.upload == 1) {\n        var img_src = _uploaded_images_url + res.texto;\n        var n_name = \"#img-\" + name;\n        var index = 0;\n        var pre = _ctrl.jd.selections[n_name + \"-uploaded\"] ? _ctrl.jd.selections[n_name + \"-uploaded\"].text.indexOf(img_src) == -1 ? _ctrl.jd.selections[n_name + \"-uploaded\"].text + \",\" : \"\" : \"\";\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, n_name + \"-uploaded\", pre + img_src, 'text');\n\n        saveImageInStorage(img_src, \"#img-\" + name, name == \"gallery\");\n        /*SAVES IMAGE TO OBJECT*/\n\n        _ctrl.new_dataManager.saveWeb2bJson(_ctrl.jd);\n        /*ADDS THUMB*/\n        //if (_ctrl.jd.selections[(n_name + \"-uploaded\")] && (_ctrl.jd.selections[(n_name + \"-uploaded\")].text.indexOf(img_src) == -1)) {\n\n\n        if (name == \"gallery\") {\n          index = $(\"#app-control-images-\" + name + \" .photo-container .thumb-selected\").length;\n        }\n\n        setUploadedImage(img_src, name, true, false, index); //}\n\n        /*DISPLAYS IMAGE*/\n\n        displayImageOnTemplate(img_src, name);\n      } else {\n        parent.append(\"<span class='error'>Error al subir tu foto: \" + res.texto + \"</span>\");\n      }\n    }).fail(function (e) {\n      console.log(e);\n    }).always(function () {\n      $(\"button\", parent).attr(\"disabled\", false);\n    });\n  };\n\n  var saveImageInStorage = function saveImageInStorage(img, cont, isGallery) {\n    var pre = isGallery ? _ctrl.jd.selections[cont].img + \",\" : \"\";\n\n    _ctrl.new_dataManager.saveSelected(_ctrl.jd, cont, pre + img, 'image');\n  };\n\n  var displayImageOnTemplate = function displayImageOnTemplate(img, cont) {\n    if (cont == \"logo\") {\n      $(\"#img-logo\").attr('src', img);\n    } else if (cont == \"gallery\") {\n      var $img = $(\".img.template\").clone().removeClass(\"template\").css('background-image', 'url(\"' + img + '\")');\n      $(\"#gallery .gallery\").append($img).find(\".img\").hide().filter(\":eq(0)\").show();\n    } else {\n      $(\"#img-\" + cont).css('background-image', 'url(\"' + img + '\")');\n    }\n  };\n\n  var setBackgroundImage = function setBackgroundImage(img) {\n    var obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    obj[\"background-image\"] = 'url(\"' + img + '\")';\n    return obj;\n  };\n\n  return {\n    init: init,\n    setImageSelection: setImageSelection,\n    setImagesOnStartSession: setImagesOnStartSession,\n    setImagesOnResumeSession: setImagesOnResumeSession,\n    setImagesOnUpdateSession: setImagesOnUpdateSession,\n    uploadImage: uploadImage\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/imageManager.js?");

/***/ }),

/***/ "./crea/js/itemManager.js":
/*!********************************!*\
  !*** ./crea/js/itemManager.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = itemManager;\n\nfunction itemManager() {\n  var _ctrl = null;\n  var _number_of_items = 0;\n  var _type_of_item = 0;\n  var _current_step = 0;\n  var $item = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setItems = function setItems() {\n    /*FIRES AFTER TEMPLATE IS LOADED*/\n    $item = $(\"#template .item:last\").clone();\n    $(\"#template .items\").remove().detach();\n\n    switch (_ctrl.sessionStatus) {\n      case \"START SESSION\":\n        _ctrl.jd.selections[\"inp-content-items-number\"] = {\n          \"name\": \"items-number\",\n          \"type\": \"text\",\n          \"text\": _number_of_items\n        };\n\n        _ctrl.new_dataManager.saveWeb2bJson(_ctrl.jd);\n\n        break;\n\n      case \"RESUME SESSION\":\n        _number_of_items = _ctrl.jd.selections[\"inp-content-items-number\"] && _ctrl.jd.selections[\"inp-content-items-number\"].text && _ctrl.jd.selections[\"inp-content-items-number\"].text != \"\" ? parseInt(_ctrl.jd.selections[\"inp-content-items-number\"].text) : 0;\n        $(\"#inp-content-items-number\").val(_number_of_items);\n\n        for (var i = 0; i < _number_of_items; i++) {\n          addItemControl(i);\n          addItemToNavigation(i);\n          addItemToTemplate(i + 1);\n        }\n\n        break;\n    }\n  };\n\n  var addItemToNavigation = function addItemToNavigation(i) {\n    console.log(\"item navigation \" + i);\n    $(\"#items-navigation\").append($(\".item-navigation.template\").clone());\n    $(\"#items-navigation .item-navigation.template\").html(i + 1).removeClass(\"template\").trigger(\"click\");\n  };\n\n  var addItemControl = function addItemControl(i) {\n    /*ADDS CONTROL*/\n    var k = i * 1 + 1;\n    var $i_t = $(\".item-control:last\").clone();\n    $(\"#items-control\").append($i_t);\n    /*UPDATES CONTROL META DATA*/\n\n    $i_t.find(\".content-item-number\").html(k);\n    $i_t.find(\"input[type=text]\").attr({\n      \"id\": \"inp-content-title-item-\" + k,\n      \"name\": \"inp-content-title-item-\" + k\n    }).val(\"\");\n    $i_t.find(\"textarea\").attr({\n      \"id\": \"inp-content-item-\" + k,\n      \"name\": \"inp-content-item-\" + k\n    }).val(\"\");\n    $i_t.find(\".app-control-images>div:eq(0)\").attr(\"id\", \"app-control-images-item-\" + k);\n    $i_t.find(\"input\").each(function () {\n      if ($(this).attr(\"type\") != \"file\" && $(this).attr(\"type\") != \"submit\") {\n        $(this).attr(\"name\", \"inp-img-item-\" + k);\n      }\n\n      if ($(this).attr(\"type\") == \"file\") {\n        $(this).attr(\"name\", \"item-\" + k);\n      }\n    });\n  };\n\n  var addItem = function addItem(v) {\n    if (v < _number_of_items) {\n      console.log(v);\n      $(\"#template .items:last .item:last\").remove();\n\n      if ($(\"#template .items:last .item\").length == 0) {\n        $(\"#template .items:last\").remove();\n      }\n\n      $(\"#template .items:last\").removeClass(\"one two three\");\n      $(\"#template .items:last\").addClass(getClassSize());\n      $(\"#items-navigation .item-navigation:last\").prev(\".item-navigation\").trigger(\"click\");\n      $(\"#items-navigation .item-navigation:last\").remove();\n      $(\".item-control:last\").remove();\n    }\n\n    if (v > _number_of_items) {\n      addItemControl(_number_of_items);\n      addItemToTemplate(v);\n      addItemToNavigation(_number_of_items);\n    }\n\n    _number_of_items = v;\n  };\n\n  var addItemToTemplate = function addItemToTemplate(i) {\n    console.log(\"addItemToTemplate + \" + i);\n    var items_in_template = $(\"#template .item\").length;\n\n    if (i >= items_in_template) {\n      if ($(\"#template .items:last .item\").length == 3) {\n        $(\"#template .items:last\").after(\"<div class='items'></div>\");\n      }\n\n      if ($(\"#template .items\").length == 0) {\n        $(\"#template #items header\").after(\"<div class='items'></div>\");\n      }\n\n      var $item_copy = $item.clone();\n      $item_copy.find(\".img:eq(0)\").attr(\"id\", \"img-item-\" + i);\n      $item_copy.find(\"h3:eq(0)\").attr(\"id\", \"val-content-title-item-\" + i);\n      $item_copy.find(\"p:eq(0)\").attr(\"id\", \"val-content-item-\" + i);\n      $(\"#template .items:last\").append($item_copy);\n      $(\"#template .items:last\").attr(\"class\", \"items\").addClass(getClassSize());\n    }\n  };\n\n  var getClassSize = function getClassSize() {\n    switch ($(\"#template .items:last .item\").length % 3) {\n      case 0:\n        return \"three\";\n\n      case 1:\n        return \"one\";\n\n      case 2:\n        return \"two\";\n    }\n  };\n\n  var setContentType = function setContentType() {\n    console.log(\"setContentType\");\n\n    if (!_ctrl.jd.selections[\"inp-content-item-type\"]) {\n      _type_of_item = $(\"input[name='inp-content-item-type']:checked\").val();\n      _ctrl.jd.selections[\"inp-content-item-type\"] = {\n        \"name\": \"items-type\",\n        \"type\": \"text\",\n        \"text\": _type_of_item\n      };\n    } else {\n      switch (_ctrl.sessionStatus) {\n        case \"RESUME SESSION\":\n          _type_of_item = _ctrl.jd.selections[\"inp-content-item-type\"].text;\n          $(\"input[name='inp-content-item-type'][value='\" + _type_of_item + \"']\").prop(\"checked\", \"checked\");\n          break;\n\n        case \"UPDATE SESSION\":\n          _type_of_item = $(\"input[name='inp-content-item-type']:checked\").val();\n          _ctrl.jd.selections[\"inp-content-item-type\"].text = _type_of_item;\n          break;\n      }\n\n      $(\"#content-item-type label\").removeClass(\"checked\");\n      $(\"input[name='inp-content-item-type']:checked\").parent().addClass(\"checked\");\n    }\n\n    var v = $(\"input[name='inp-content-item-type']:checked\").attr(\"id\");\n    var m = \"\";\n    var p = \"\";\n\n    switch (v) {\n      case 'inp-content-item-type-1':\n        m = \"producto\";\n        p = \"productos\";\n        break;\n\n      case 'inp-content-item-type-2':\n        m = \"servicio\";\n        p = \"servicios\";\n        break;\n\n      case 'inp-content-item-type-3':\n        m = \"producto o servicio\";\n        p = \"productos o servicios\";\n        break;\n    }\n\n    $(\".content-item-type\").html(m);\n    $(\".content-items-type\").html(p);\n  };\n\n  var getCurrentStep = function getCurrentStep() {\n    return _current_step;\n  };\n\n  return {\n    init: init,\n    setItems: setItems,\n    addItem: addItem,\n    setContentType: setContentType,\n    getCurrentStep: getCurrentStep\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/itemManager.js?");

/***/ }),

/***/ "./crea/js/mapsManager.js":
/*!********************************!*\
  !*** ./crea/js/mapsManager.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mapsManager;\n\nvar _loadGoogleMapsApi = __webpack_require__(/*! load-google-maps-api */ \"./node_modules/load-google-maps-api/index.js\");\n\nvar _loadGoogleMapsApi2 = _interopRequireDefault(_loadGoogleMapsApi);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction mapsManager() {\n  var inputId = '';\n  var mapId = '';\n  var key = 'AIzaSyBR5kBWFTVAecBoW4IKDSjttophb4BC6fg';\n  var autocomplete = void 0;\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var start = function start(input, map) {\n    inputId = input;\n    mapId = map;\n    initAutocomplete();\n\n    if (_ctrl.jd && _ctrl.jd.selections && _ctrl.jd.selections[\"inp-contact-address\"] && _ctrl.jd.selections[\"inp-contact-address\"].text) {\n      if (_ctrl.jd.selections[\"inp-contact-address\"].text.search('##') != -1) {\n        updateMapSrc(_ctrl.jd.selections[\"inp-contact-address\"].text);\n      } else {\n        $('#' + inputId).data('place', '');\n        $('.map-error').show();\n      }\n    } else {\n      getInitialPos();\n    }\n  };\n\n  var initAutocomplete = function initAutocomplete() {\n    (0, _loadGoogleMapsApi2.default)({\n      libraries: ['places'],\n      key: key\n    }).then(function (googleMaps) {\n      autocomplete = new googleMaps.places.Autocomplete(document.getElementById(inputId));\n      autocomplete.addListener('place_changed', fillInAddress);\n      $(document.body).on(\"change\", '#' + inputId, inputMap);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  var inputMap = function inputMap() {\n    $('.map-input').show();\n  };\n\n  var fillInAddress = function fillInAddress() {\n    $('.map-error, .map-input').hide();\n    var place = autocomplete.getPlace();\n\n    if (place && place.place_id) {\n      updateMapSrc('place_id:' + place.place_id);\n      $('#' + inputId).data('place', place.place_id);\n\n      _ctrl.new_templateManager.updateTexts($(\"#template\"), _ctrl.jd.selections);\n\n      _ctrl.new_dataManager.saveWeb2bJson(_ctrl.jd);\n    } else {\n      $('#' + inputId).data('place', '');\n      $('.map-error').show();\n    }\n  };\n\n  var updateMapSrc = function updateMapSrc(query) {\n    var map = document.getElementById(mapId);\n    var src = \"https://www.google.com/maps/embed/v1/place?key=\" + key + \"&q=\" + query;\n    map.src = src;\n  };\n\n  var ipLookUp = function ipLookUp() {\n    $.ajax('http://ip-api.com/json').then(function success(response) {\n      console.log(response.lat, response.lon);\n      updateMapSrc(response.lat + ',' + response.lon);\n    }, function fail(data, status) {\n      console.log('Request failed.  Returned status of', status);\n    });\n  };\n\n  var getInitialPos = function getInitialPos() {\n    if (\"geolocation\" in navigator) {\n      // check if geolocation is supported/enabled on current browser\n      navigator.geolocation.getCurrentPosition(function success(position) {\n        // for when getting location is a success\n        console.log('latitude', position.coords.latitude, 'longitude', position.coords.longitude);\n      }, function error(error_message) {\n        // for when getting location results in an error\n        console.error('An error has occured while retrieving location', error_message);\n        ipLookUp();\n      });\n    } else {\n      // geolocation is not supported\n      // get your location some other way\n      console.log('geolocation is not enabled on this browser');\n      ipLookUp();\n    }\n  };\n\n  return {\n    init: init,\n    start: start\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/mapsManager.js?");

/***/ }),

/***/ "./crea/js/menuManager.js":
/*!********************************!*\
  !*** ./crea/js/menuManager.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = templateManager;\n\nfunction templateManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var setMenu = function setMenu() {\n    setMainControls();\n    setFormControls();\n    /* manage dialog ??*/\n\n    $(\"#ok_btn\").click(function () {\n      $(\".alert.dialog\").dialog(\"close\");\n    });\n  };\n\n  var setMainControls = function setMainControls() {\n    /*APP SWITCH*/\n    $(\"[id^='switch-']\").on('click', function () {\n      $(\"#app-control\").toggleClass(\"view\");\n      $(\"#app-control-nav\").toggleClass(\"view\");\n      $(\"#app-switch\").toggleClass(\"view\");\n      $(\"body\").toggleClass(\"init\");\n    });\n    /*EO APP SWITCH*/\n\n    /*STEP NAVIGATION*/\n\n    $(\".app-control-step:gt(0)\").hide();\n\n    for (var i = 0; i < $(\"#app-control>.app-control-step\").length - 1; i++) {\n      $(\"#control-view-index\").append($(\".control-view-index-step.current\").clone().removeClass(\"current\"));\n    }\n\n    $(\".control-view-nav-display-mark:eq(\" + _ctrl.current_step + \")\").addClass(\"control-view-nav-display-mark-active\");\n    $(\"#control-view-nav>a\").on(\"click\", function (e) {\n      if ($(\".app-control-step .container-error\").length == 0) {\n        var inc = $(this).attr(\"href\") == \"#next\" ? 1 : -1;\n        var index = _ctrl.current_step + inc;\n        var totalSteps = $(\"#app-control>.app-control-step\").length;\n\n        if (index >= totalSteps) {\n          index = totalSteps;\n        }\n\n        if (index == 1) {\n          $(\"#control-view-nav>a:eq(0)\").removeClass(\"disabled\");\n        }\n\n        _ctrl.new_menuManager.goToStep(index, e.currentTarget);\n      }\n    });\n    $(document).on(\"click\", \".control-view-index-step\", function (e) {\n      var $this = $(this);\n      var index = $(\".control-view-index-step\").index($this);\n\n      _ctrl.new_menuManager.goToStep(index, e.currentTarget);\n    });\n    /*EO STEP NAVIGATION*/\n  };\n\n  var setFormControls = function setFormControls() {\n    /*TEXT*/\n    $(document.body).on(\"keyup\", \"[type='text'][name^='inp-'][id!='inp-contact-address']:not([disabled]),textarea[name^='inp-']\", function (e) {\n      _ctrl.lastKeyPressed = e.keyCode || e.which;\n\n      _ctrl.new_templateManager.updateContent(e.currentTarget);\n    });\n    $(\"[data-validate]\").on(\"focusout\", function (e) {\n      _ctrl.new_utilsManager.validateFields(e.currentTarget, true);\n    });\n    /*TEXT*/\n\n    /*NOT TEXT*/\n\n    /*UPDATE ONLY IF VALUE CHANGES*/\n\n    $(document.body).on(\"change\", \"[name^='inp-'][type!='text']\", function (e) {\n      _ctrl.new_templateManager.updateContent(e.currentTarget);\n    });\n    /*NOT TEXT*/\n\n    /*TOGGLES*/\n\n    $(\".toggle\").click(function (e) {\n      e.preventDefault();\n      var $this = $(this);\n      var t = $this.attr(\"id\").replace(\"toggle\", \"#conditional\");\n      var i = $this.attr(\"id\").replace(\"toggle\", \"#inp-rem-content\");\n\n      if ($this.find(\".fas.fa-toggle-on\").length > 0) {\n        $this.find(\".fas.fa-toggle-on\").attr(\"class\", \"fas fa-toggle-off\");\n      } else {\n        $this.find(\".fas.fa-toggle-off\").attr(\"class\", \"fas fa-toggle-on\");\n      }\n\n      $(i).trigger(\"click\");\n\n      _ctrl.new_templateManager.updateContent(e.currentTarget);\n\n      hideFormElements($(t));\n    });\n    /*TOGGLES*/\n\n    /*ACCORDION*/\n\n    $(\"body\").on(\"click\", \".accordion h4\", function () {\n      $(this).toggleClass(\"expanded\");\n      $(this).next().toggle();\n    }).find(\".accordion h4\").trigger(\"click\");\n    /*ACCORDION*/\n\n    /*IMAGES*/\n\n    $(document.body).on('click', '.img-thumb-cont', function () {\n      var $this = $(this);\n      $this.closest(\"[id^='app-control-images']\").not('#app-control-images-gallery').find(\".img-thumb\").removeClass(\"thumb-selected\");\n      $this.next(\"input\").trigger(\"click\"); // if gallery\n\n      var $parent = $this.closest(\"[id^='app-control-images']\");\n\n      if ($parent.attr('id').search('gallery') != -1) {\n        var actualNum = $parent.find(\".thumb-selected\").length;\n        $this.parent().find(\".img-thumb-overlay span\").text(actualNum + 1);\n      }\n\n      $this.parent().addClass(\"thumb-selected\");\n    });\n    $(document.body).on('click', '#app-control-images-gallery .img-thumb-overlay', function () {\n      var $this = $(this); // if gallery\n\n      var $parent = $this.closest(\"[id^='app-control-images']\");\n\n      if ($parent.attr('id').search('gallery') != -1) {\n        var actualNum = $this.parent().find(\".img-thumb-overlay span\").text();\n        $parent.find(\".thumb-selected\").each(function (i, e) {\n          var an = $('.img-thumb-overlay span', e).text();\n\n          if (an > actualNum) {\n            $('.img-thumb-overlay span', e).text(an - 1);\n          }\n        });\n      }\n\n      $this.closest(\".img-thumb\").removeClass(\"thumb-selected\").find(\"input\").trigger(\"click\");\n    });\n    $(document.body).on('click', '.img-thumb-cont-zoom', function () {\n      var img_url = $(this).parent().find(\".img-thumb-cont\").attr(\"data-img-url\");\n      $(\"#single-modal>div\").html(\"<img src='\" + img_url + \"' class='img-thumb-zoomed' />\");\n      $(\"#single-modal\").fadeIn();\n    }).append($(\"#single-modal\"));\n    $(\"body\").on('DOMSubtreeModified', \"#app-control-images-logo\", function () {\n      $(\"#app-control-images-logo\").parent().attr('style', '');\n    });\n    /*IMAGES*/\n\n    /*SINGLE MODAL*/\n\n    $(\"#single-modal i\").on(\"click\", function () {\n      $(\"#single-modal\").fadeOut(\"fast\", function () {\n        $(\"body\").append($(\".page-switcher\")).find(\".page-switcher:last\").hide();\n        $(\"#single-modal\").attr(\"class\", \"\");\n        $(\"#component_templates\").append($(\"#modal-bg\"));\n      });\n    });\n    /*SINGLE MODAL*/\n\n    /*COLOR*/\n\n    $(\"body\").on('click', \".control-color-thumb\", function () {\n      var $this = $(this);\n      $this.closest(\"#app-control-palettes\").find(\".control-color-thumb\").removeClass(\"thumb-selected\");\n      $this.parent().find(\"input\").trigger(\"click\");\n      $this.addClass(\"thumb-selected\");\n    });\n    $(\"body\").on('click', \".control-color-radio\", function () {\n      $(this).parent().find(\".control-color-thumb\").trigger(\"click\");\n    });\n    /*COLOR*/\n\n    /*ITEMS*/\n\n    $(\"body\").on(\"click\", \".items-change-number\", function () {\n      var $this = $(this);\n      var $t = $(\"#inp-content-items-number\");\n      var v = $this.hasClass(\"add-item\") ? $t.val() * 1 + 1 : $t.val() * 1 - 1;\n\n      if (v >= 1 && v <= 5) {\n        $t.val(v);\n\n        _ctrl.new_itemManager.addItem(v);\n      }\n    });\n    $(\"body\").on(\"click\", \".item-navigation\", function () {\n      var $this = $(this);\n      var i = $(\".item-navigation\").index($this);\n      $(\".item-navigation\").removeClass(\"selected\");\n      $(\".item-control\").hide();\n      $this.addClass(\"selected\");\n      $(\".item-control:eq(\" + i + \")\").fadeIn();\n    });\n    /*ITEMS*/\n\n    /*UPLOADS*/\n\n    $('.file-upload button').on(\"click\", function (e) {\n      e.preventDefault();\n      $(e.currentTarget).parent().find(\"input[type='file']\").click();\n    });\n    $('.file-upload input[type=file]').on('change', function (e) {\n      var file = $(e.currentTarget)[0].files[0].name;\n      $(\"span\", $(e.currentTarget).parent()).text(file);\n      $(\"input[type=submit]\", $(e.currentTarget).closest(\"form\")).trigger(\"click\");\n\n      if (!$(e.currentTarget).closest(\".accordion\").next(\".accordion\").children('div').is(':visible')) {\n        $(e.currentTarget).closest(\".accordion\").next(\".accordion\").find(\"h4\").trigger(\"click\");\n      }\n    });\n    $('.file-upload input[type=\"submit\"]').on('click', _ctrl.new_imageManager.uploadImage);\n    /*UPLOADS*/\n\n    /*OPTIONALS*/\n\n    $(\"#control-optionals .tab\").each(function () {\n      $(\"#optionals-navigation\").append($(\".optional-navigation.template\").clone());\n      $(\"#optionals-navigation .optional-navigation.template\").removeClass(\"template\").html($(this).find(\"h3:first span\").html());\n    }).hide();\n    $(\"body\").on(\"click\", \".optional-navigation\", function () {\n      var $this = $(this);\n      var i = $(\".optional-navigation\").index($this);\n      $(\".optional-navigation\").removeClass(\"selected\");\n      $this.addClass(\"selected\");\n      $(\"#control-optionals .tab\").hide();\n      $(\"#control-optionals .tab:eq(\" + i + \")\").fadeIn();\n    });\n    $(\"#optionals-navigation .optional-navigation:first\").trigger(\"click\");\n    /*OPTIONALS*/\n  };\n\n  var hideFormElements = function hideFormElements($s) {\n    $s.toggleClass(\"hidden\");\n  };\n\n  var goToStep = function goToStep(step, target) {\n    if ($(\".app-control-step .container-error\").length == 0) {\n      _ctrl.current_step = step;\n\n      _ctrl.new_templateManager.updateContent(target);\n\n      if (step == -1) {\n        $(\"#app-cover\").show();\n        $(\".app-cover-start\").show();\n        $(\".app-cover-finish\").hide();\n      } else if (step < $(\".app-control-step\").length) {\n        $(\".app-control-step\").hide().filter(\":eq(\" + step + \")\").show();\n        $(\".control-view-index-step\").removeClass(\"current\").filter(\":eq(\" + step + \")\").addClass(\"current\");\n      } else {\n        $(\"#app-cover\").show();\n        $(\".app-cover-start\").hide();\n        $(\".app-cover-finish\").show();\n      }\n      /*TRANSITIONS*/\n\n\n      if ($(\".app-control-step:eq(\" + step + \") #color-pointer\").length > 0) {\n        $(\"#color-pointer\").addClass(\"focus\");\n      } else {\n        $(\"#color-pointer\").removeClass(\"focus\");\n      }\n      /*if ($(\".app-control-step:eq(\" + step + \") #color-pointer\").length > 0) {\r\n      \t$(\"#color-pointer\").().fadeIn(\"slow\", function() {\r\n      \t\t$(\"#color-pointer\").fadeOut(\"fast\");\r\n      \t});\r\n      }*/\n\n      /*TRANSITIONS*/\n\n    } else {\n      $(\".app-control-step .container-error\").hide().fadeIn(\"fast\");\n    }\n  };\n\n  return {\n    init: init,\n    setMenu: setMenu,\n    hideFormElements: hideFormElements,\n    goToStep: goToStep\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/menuManager.js?");

/***/ }),

/***/ "./crea/js/paymentsManager.js":
/*!************************************!*\
  !*** ./crea/js/paymentsManager.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = paymentsManager;\n\nvar _pp = __webpack_require__(/*! ./pp */ \"./crea/js/pp.js\");\n\nvar _pp2 = _interopRequireDefault(_pp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction paymentsManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var createPayment = function createPayment() {\n    var id_pagina = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_templateId');\n\n    var id_usuario = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_userId');\n\n    var template_info = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_template');\n\n    if (template_info.selections.siteName.text.trim() == '' || template_info.selections.siteName.text.trim().lenght < 3) {\n      $('.final-msgs p').text('El nombre de tu sitio no ha sido proporcionado. Por favor, regresa a las pantallas anteriores para definirlo.');\n      $('.final-msgs').dialog(\"open\");\n      return;\n    } //Crear pago\n\n\n    $.post(\"scripts/crear_pago.php\", {\n      id_usuario: id_usuario,\n      paquete: 'gratuito',\n      info_pago: 'N/A',\n      id_pagina: id_pagina,\n      id_paypal: 'N/A'\n    }).done(function (PagoResult) {\n      // Crear página\n      publishPagina(template_info, PagoResult.fecha);\n    }).fail(function (result) {\n      // Algo salio mal\n      $('.final-msgs p').text('Algo a salido mal. Por favor, intenta de nuevo. Si el error persiste, por favor contáctanos.');\n      $('.final-msgs').dialog(\"open\");\n    });\n  };\n\n  var createPaypalButtons = function createPaypalButtons() {\n    var actual_page = _ctrl.new_dataManager.getObjFromLocalStorage('web2b_actualPage');\n\n    if (actual_page && actual_page.paquete) {\n      manageFinalData(actual_page.fecha_fin, actual_page.paquete);\n    } else {\n      $(\".created\").hide();\n      /* PAYPAL Buttons */\n\n      var new_paypalBtn1 = new _pp2.default();\n      new_paypalBtn1.init('#paypal-button-container', 'basico');\n      var new_paypalBtn2 = new _pp2.default();\n      new_paypalBtn2.init('#paypal-button-container2', 'premium');\n    }\n  };\n\n  var publishPagina = function publishPagina() {\n    var template_info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var fecha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    template_info = template_info == '' ? _ctrl.new_dataManager.getObjFromLocalStorage('web2b_template') : template_info;\n    var template_html = '<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>' + '<script src=\"' + '/crea/Templates/Template-' + template_info.selections.templateTypeId.value + '/js/scripts.js' + '\"></script>' + $('#template')[0].outerHTML; //Crear pago\n\n    $.post(\"scripts/publicar_pagina.php\", {\n      site_name: template_info.selections.siteName.text,\n      contenido: template_html,\n      title: template_info.selections['inp-content-name'].text,\n      description: template_info.selections['inp-content-slogan'].text\n    }).done(function (PublishResult) {\n      $('#app-cover').scrollTop(0);\n      $('.final-msgs p').text('La página se ha publicado exitosamente');\n      $('.final-msgs').dialog(\"open\");\n\n      if (fecha != '') {\n        manageFinalData(fecha, 'gratuito');\n      }\n    }).fail(function (result) {\n      $('.final-msgs p').text('Algo ha salido mal al tratar de publicar tu página. Por favor, intenta más tarde');\n      $('.final-msgs').dialog(\"open\");\n    });\n  };\n\n  var manageFinalData = function manageFinalData(fecha, paquete) {\n    $(\".app-cover-finish-package:first-child .finish\").css('visibility', 'hidden');\n    $('#paypal-button-container').empty();\n    $('#paypal-button-container').attr(\"style\", \"\");\n    $('#paypal-button-container2').empty();\n    $('#paypal-button-container2').attr(\"style\", \"\");\n\n    if (paquete === 'premium') {\n      var new_paypalBtn2 = new _pp2.default();\n      new_paypalBtn2.init('#paypal-button-container2', 'premium');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } else {\n      var new_paypalBtn1 = new _pp2.default();\n      new_paypalBtn1.init('#paypal-button-container', 'basico');\n\n      var _new_paypalBtn = new _pp2.default();\n\n      _new_paypalBtn.init('#paypal-button-container2', 'premium');\n\n      $('#paypal-button-container').css('margin-bottom', '0');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } // number of days\n\n\n    var diff = _ctrl.new_utilsManager.fecha_diff(fecha);\n\n    if (diff >= 0) {\n      $(\".daysLeft\").text(diff);\n      $(\".created\").fadeIn(400);\n      $('#publish').show();\n    } else {\n      $(\".caduco\").fadeIn(400);\n      $(\".created\").hide();\n    }\n  };\n\n  return {\n    init: init,\n    createPayment: createPayment,\n    createPaypalButtons: createPaypalButtons,\n    publishPagina: publishPagina\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/paymentsManager.js?");

/***/ }),

/***/ "./crea/js/pp.js":
/*!***********************!*\
  !*** ./crea/js/pp.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = paypalBtn;\n\nvar _dataManager = __webpack_require__(/*! ../../js/dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction paypalBtn() {\n  var _this = this;\n\n  var element = void 0;\n  var subtotal = void 0;\n  var total = void 0;\n  var description = void 0;\n  var name = void 0;\n  var tax = void 0;\n  var new_dataManager = new _dataManager2.default();\n  var paquetes = {\n    'basico': {\n      'nombre': 'Básico',\n      'description': \"Sitio por un a\\xF1o,\\n        Logotipo,\\n        Agregar contenido,\\n        Actualizaciones\",\n      'precio': '899'\n    },\n    'premium': {\n      'nombre': 'Premium',\n      'description': \"Dominio .com o .mx\\n        Sitio por un a\\xF1o,\\n        Logotipo,\\n        Agregar contenido,\\n        Actualizaciones\",\n      'precio': '1599'\n    }\n  };\n\n  var manageFinalData = function manageFinalData(fecha, paquete) {\n    $(\".app-cover-finish-package:first-child .finish\").css('visibility', 'hidden');\n    $('#paypal-button-container').empty();\n    $('#paypal-button-container').attr(\"style\", \"\");\n    $('#paypal-button-container2').empty();\n    $('#paypal-button-container2').attr(\"style\", \"\");\n\n    if (paquete === 'premium') {\n      var new_paypalBtn2 = new paypalBtn();\n      new_paypalBtn2.init('#paypal-button-container2', 'premium');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } else {\n      var new_paypalBtn1 = new paypalBtn();\n      new_paypalBtn1.init('#paypal-button-container', 'basico');\n\n      var _new_paypalBtn = new paypalBtn();\n\n      _new_paypalBtn.init('#paypal-button-container2', 'premium');\n\n      $('#paypal-button-container').css('margin-bottom', '0');\n      $('#paypal-button-container2').css('margin-bottom', '0');\n    } // number of days\n\n\n    var today = new Date();\n    var finArr = fecha.split(\"-\");\n    var fin = new Date(Number(finArr[0]), Number(finArr[1]) - 1, Number(finArr[2]));\n    var diff = void 0;\n\n    if (fin >= today) {\n      diff = Math.ceil(Math.abs(today - fin) / (1000 * 3600 * 24));\n      $(\".daysLeft\").text(diff);\n      $(\".created\").fadeIn(400);\n    } else {\n      diff = 0;\n      $(\".caduco\").fadeIn(400);\n      $(\".created\").hide();\n    }\n  };\n\n  var init = function init(element, tipo) {\n    _this.element = element;\n    _this.subtotal = paquetes[tipo].precio;\n    _this.tax = (Number(_this.subtotal) * 0.16).toFixed(2).toString();\n    _this.total = (Number(_this.subtotal) * 1.16).toFixed(2).toString();\n    _this.name = paquetes[tipo].nombre;\n    _this.description = paquetes[tipo].description; // Render the PayPal button\n\n    return paypal.Button.render({\n      // Set your environment\n      env: 'production',\n      // sandbox | production\n      client: {\n        sandbox: 'AeYhV898LwB_wov8dDxwQeKLrx1Yegkzeldu8P5WNPgfxi-ic1-5qlFnL4LK0xlkdrISIc5NeVNVi-Y9',\n        production: 'Ab6PGV7NqDwbG9BNJ_2b0ttvuP53CaldZaLyn4YE2Pux_65VWHhL-IfbiYPQAkDayRzgu_3qAjHUkxUd'\n      },\n      locale: 'es_MX',\n      // Specify the style of the button\n      style: {\n        label: 'paypal',\n        // checkout | credit | pay | buynow | generic\n        size: 'responsive',\n        // small | medium | large | responsive\n        shape: 'rect',\n        // pill | rect\n        color: 'blue',\n        // gold | blue | silver | black\n        tagline: false,\n        layout: 'horizontal',\n        fundingicons: true\n      },\n      // Specify allowed and disallowed funding sources\n      //\n      // Options:\n      // - paypal.FUNDING.CARD\n      // - paypal.FUNDING.CREDIT\n      // - paypal.FUNDING.ELV\n      funding: {\n        allowed: [paypal.FUNDING.CARD],\n        disallowed: [paypal.FUNDING.CREDIT]\n      },\n      // Enable Pay Now checkout flow (optional)\n      commit: true,\n      // PayPal Client IDs - replace with your own\n      // Create a PayPal app: https://developer.paypal.com/developer/applications/create\n      // Set up a payment\n      payment: function payment(data, actions) {\n        return actions.payment.create({\n          transactions: [{\n            amount: {\n              total: _this.total,\n              currency: 'MXN',\n              details: {\n                subtotal: _this.subtotal,\n                tax: _this.tax\n              }\n            },\n            description: 'Paquete ' + _this.name,\n            item_list: {\n              items: [{\n                name: 'Paquete ' + _this.name,\n                description: _this.description,\n                quantity: '1',\n                price: _this.subtotal,\n                currency: 'MXN',\n                tax: _this.tax\n              }]\n            }\n          }],\n          note_to_payer: 'Contáctanos si necesitas ayuda en tu compra.'\n        });\n      },\n      onAuthorize: function onAuthorize(data, actions) {\n        return actions.payment.execute().then(function (PaymentDetails) {\n          var id_pagina = new_dataManager.getObjFromLocalStorage('web2b_templateId');\n          var id_usuario = new_dataManager.getObjFromLocalStorage('web2b_userId');\n          var template_info = new_dataManager.getObjFromLocalStorage('web2b_template');\n          var info_pago = JSON.stringify(PaymentDetails);\n          var paquete = PaymentDetails.transactions[0].item_list.items[0].name.search('Básico') != -1 ? 'basico' : 'premium'; //Crear pago\n\n          $.post(\"scripts/crear_pago.php\", {\n            id_usuario: id_usuario,\n            paquete: paquete,\n            info_pago: info_pago,\n            id_pagina: id_pagina,\n            id_paypal: PaymentDetails.id\n          }).done(function (PagoResult) {\n            // Crear página\n            $.post(\"scripts/publicar_pagina.php\", {\n              site_name: template_info.selections.siteName.text,\n              contenido: $('#template')[0].outerHTML,\n              title: template_info.selections['inp-content-name'].text,\n              description: template_info.selections['inp-content-slogan'].text\n            }).done(function (PublishResult) {\n              $('.final-msgs p').text('La página se ha publicado exitosamente');\n              $('.final-msgs').dialog(\"open\");\n              manageFinalData(PagoResult.fecha, paquete);\n            }).fail(function (result) {\n              $('.final-msgs p').text('Algo ha salido al tratar de publicar tu página. Por favor, intenta más tarde');\n              $('.final-msgs').dialog(\"open\");\n            });\n          }).fail(function (result) {// Algo salio mal\n          });\n        });\n      },\n      onCancel: function onCancel(data, actions) {// Show a cancel page or return to cart\n      },\n      onError: function onError(err) {// Show an error page here, when an error occurs\n      }\n    }, _this.element);\n  };\n\n  return {\n    init: init\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/pp.js?");

/***/ }),

/***/ "./crea/js/scripts.js":
/*!****************************!*\
  !*** ./crea/js/scripts.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _creator = __webpack_require__(/*! ./creator */ \"./crea/js/creator.js\");\n\nvar _creator2 = _interopRequireDefault(_creator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar new_creator = new _creator2.default();\nnew_creator.validation();\n$(document).ready(function () {\n  new_creator.init();\n});\n\n//# sourceURL=webpack:///./crea/js/scripts.js?");

/***/ }),

/***/ "./crea/js/templateManager.js":
/*!************************************!*\
  !*** ./crea/js/templateManager.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = templateManager;\n\nfunction templateManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var loadTemplate = function loadTemplate() {\n    var templateChanged = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var id = $(\"[name^='inp-design']:checked\").val();\n    id = id.replace(\"inp-design-\", \"\");\n\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\"input[value='inp-design-\" + id + \"']\").closest(\".control-design-thumb\").addClass(\"thumb-selected\");\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      id = _ctrl.jd.selections.templateTypeId.value;\n      $(\"[name^='inp-design']\").removeAttr(\"checked\");\n      var $newInp = $(\"input[value='inp-design-\" + id + \"']\");\n      $newInp.attr(\"checked\", \"checked\");\n      $newInp.closest(\".control-design-thumb\").addClass(\"thumb-selected\");\n    }\n\n    if (templateChanged) {\n      _ctrl.sessionStatus = \"RESUME SESSION\";\n    }\n\n    _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"templateTypeId\", id, \"config\");\n\n    $(\"#template\").html(\"\");\n    var content_id = !_ctrl.jd.respuestas[22] || _ctrl.jd.respuestas[22].resp_id == \"\" ? 2 : _ctrl.jd.respuestas[22].resp_id;\n    var src = \"Templates/Template-\" + id + \"/index.php?t=\" + content_id + \"&color=impact&hex=000000\";\n    $(\"#template-cont\").load(src + \" #template\", function () {\n      var $template = $(\"#template\");\n      $template.find(\"link[href^='css/styles.css']\").attr(\"href\", \"Templates/Template-\" + id + \"/css/styles.css\");\n\n      _ctrl.new_imageManager.setImageSelection(!_ctrl.jd.respuestas[22] || _ctrl.jd.respuestas[22].localizacion_en == \"\" ? 'nature' : _ctrl.jd.respuestas[22].localizacion_en);\n\n      _ctrl.new_itemManager.setItems();\n\n      updateContent();\n      console.log(\"TEMPLATE LOADED\");\n      $.ajax({\n        url: \"Templates/Template-\" + id + \"/js/scripts.js\",\n        dataType: \"script\"\n      });\n\n      _ctrl.new_mapManager.start('inp-contact-address', 'iMap');\n    });\n  };\n\n  var updateContent = function updateContent() {\n    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var $template = $(\"#template\");\n    var selections = _ctrl.jd.selections || {};\n\n    if (target == null || target.href) {\n      _ctrl.new_itemManager.setContentType();\n\n      updateTexts($template, selections);\n\n      _ctrl.new_colorManager.updateColor(selections, $template);\n\n      updateImages(target);\n      updateRemoveControls($template, selections);\n    } else if (target.name == 'inp-content-item-type') {\n      _ctrl.new_itemManager.setContentType();\n    } else if (target.type && (target.type == 'text' || target.type == 'textarea')) {\n      updateTexts($template, selections);\n    } else if (target.name == 'inp-color' || target.name == 'inp-palette') {\n      _ctrl.new_colorManager.updateColor(selections, $template);\n    } else if (target.name.indexOf(\"inp-rem-content\") > -1) {\n      updateRemoveControls($template, selections);\n    } else {\n      updateImages(target);\n    }\n\n    _ctrl.new_dataManager.saveWeb2bJson(_ctrl.jd);\n\n    if (_ctrl.sessionStatus != \"UPDATE SESSION\") {\n      _ctrl.sessionStatus = \"UPDATE SESSION\";\n    }\n  };\n\n  var afterTemplateLoad = function afterTemplateLoad() {\n    _ctrl.new_mapManager.start('inp-contact-address', 'iMap');\n  };\n\n  var updateTexts = function updateTexts($template, selections) {\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\"[id^='inp-contact-'], [id^='inp-content-'], #siteName\").each(function () {\n        var $this = $(this);\n        var i_id = $this.attr(\"id\");\n        var v_id = i_id.replace(\"inp\", \"val\");\n        selections[i_id] = {};\n\n        if (i_id == \"inp-content-slogan\") {\n          var slogan_from_tour = \"\";\n\n          for (var key in _ctrl.jd.respuestas) {\n            if (_ctrl.jd.respuestas[key].tipo == 3) {\n              slogan_from_tour = _ctrl.jd.respuestas[key].respuesta;\n              break;\n            }\n          }\n\n          _ctrl.new_dataManager.saveSelected(_ctrl.jd, \"inp-content-slogan\", slogan_from_tour, 'text');\n\n          $this.val(selections[i_id] ? selections[i_id].text : '');\n          $template.find(\"#\" + v_id).html(selections[i_id] ? selections[i_id].text : '');\n        }\n\n        if (i_id == \"inp-content-title-aboutus\" || i_id == \"inp-content-aboutus\") {\n          _ctrl.new_dataManager.saveSelected(_ctrl.jd, i_id, $template.find(\"#\" + v_id).html(), 'text');\n\n          $this.val(selections[i_id] ? selections[i_id].text : '');\n        }\n      });\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      $(\"[id^='inp-contact-'], [id^='inp-content-'], #siteName\").each(function () {\n        var $this = $(this);\n        var i_id = $this.attr(\"id\");\n        var v_id = i_id.replace(\"inp\", \"val\");\n        var text = selections[i_id] && selections[i_id].text ? selections[i_id].text : '';\n\n        if (i_id == 'inp-contact-address' && text.search('##') != -1) {\n          var arr = text.split('##');\n          text = arr[0];\n          $this.data('place', arr[1]);\n        }\n\n        $this.val(text);\n\n        if (selections[i_id] && selections[i_id].active !== undefined && selections[i_id].active === false) {\n          hideTemplateElements(true, i_id.replace('inp-', 'val-'));\n\n          _ctrl.new_menuManager.hideFormElements(\"[name='\" + i_id + \"']\");\n        }\n\n        updateSpecificFields($this, i_id, v_id, text, $template, selections);\n\n        if ($('#' + v_id + '[pattern]').length > 0) {\n          console.log(v_id);\n\n          _ctrl.new_utilsManager.validateFields('#' + v_id);\n        }\n\n        if (i_id == \"inp-content-name\") {\n          $template.find(\"#menu h4\").html(selections[i_id].text);\n        }\n      });\n      $template.find(\".footer-column:not(:has(li:visible))\").hide();\n    }\n\n    if (_ctrl.sessionStatus == \"UPDATE SESSION\") {\n      $(\"[id^='inp-contact-'], [id^='inp-content-'], #siteName\").each(function () {\n        var $this = $(this);\n        var i_id = $this.attr(\"id\");\n        var v_id = i_id.replace(\"inp\", \"val\");\n        var text = '';\n        var val = $this.val();\n\n        if (i_id == 'inp-contact-address') {\n          text = val;\n          val = val + ($this.data('place') ? '##' + $this.data('place') : '');\n\n          if (text.search('##') != -1) {\n            var arr = text.split('##');\n            text = arr[0];\n            $this.data('place', arr[1]);\n          }\n        }\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, i_id, val, 'text');\n\n        $template.find(\"#\" + v_id).show().closest(\".column\").show();\n\n        if (i_id == \"inp-content-name\") {\n          $template.find(\"#menu h4\").html(selections[i_id].text);\n\n          if ($template.find(\"#val-content-aboutus>span\").length > 0) {\n            $template.find(\"#val-content-aboutus>span\").html(selections[i_id].text);\n            var t = $template.find(\"#val-content-aboutus\").html();\n            t = t.replace(\"</span>\", \"\");\n            t = t.replace('<span class=\"name\">', \"\");\n            $template.find(\"#val-content-aboutus\").html(t);\n            $(\"#inp-content-aboutus\").val($template.find(\"#val-content-aboutus\").html());\n          }\n        }\n\n        updateSpecificFields($this, i_id, v_id, text, $template, selections);\n\n        if ($this.hasClass(\"optional\")) {\n          if ($(\".app-control-step:eq(\" + _ctrl.current_step + \")\").has($this).length > 0) {\n            if (_ctrl.lastKeyPressed == 8) {\n              $template.find(\"#\" + v_id).html(val);\n            }\n          }\n        }\n      });\n      $template.find(\".footer-column:not(:has(li:visible))\").hide();\n    }\n  };\n\n  var hideTemplateElements = function hideTemplateElements(hide, selector) {\n    if (selector === \"#img-logo\" || selector == undefined) {\n      if (!hide) $('#branding').show();else $('#branding').hide();\n    } else {\n      selector = selector.replace('inp-', 'val-');\n      if (!hide) $('#' + selector).show();else $('#' + selector).hide();\n    }\n  };\n\n  var updateSpecificFields = function updateSpecificFields($this, i_id, v_id, text, $template, selections) {\n    var dir = void 0;\n    var arr = void 0;\n\n    switch (i_id) {\n      case \"inp-contact-email\":\n        $template.find(\"#val-contact-email\").html(\"<a href='mailto:\" + (selections[i_id] ? selections[i_id].text : '') + \"'>\" + (selections[i_id] ? selections[i_id].text : '') + \"</a>\");\n        break;\n\n      case \"inp-contact-map\":\n        $template.find(\"#val-contact-map\").html(selections[i_id] ? selections[i_id].text : '');\n        break;\n\n      case \"inp-contact-address\":\n        $template.find(\"#val-contact-address\").html(selections[i_id] ? text : '');\n        break;\n\n      case \"inp-contact-facebook\":\n        arr = selections[i_id] && selections[i_id].text && selections[i_id].text != '' ? selections[i_id].text.toLowerCase().split('facebook.com/') : '';\n\n        if (arr != '') {\n          dir = arr.length > 1 ? arr[1] : arr[0];\n          $template.find(\"#val-contact-facebook\").html('<span class=\"font-icon\">g</span> <a href=\"http://www.facebook.com/' + dir + '\" target=\"_blank\">' + dir + '</a>');\n        } else {\n          $template.find(\"#val-contact-facebook\").html('');\n        }\n\n        break;\n\n      case \"inp-contact-twitter\":\n        arr = selections[i_id] && selections[i_id].text && selections[i_id].text != '' ? selections[i_id].text.toLowerCase().split('twitter.com/') : '';\n\n        if (arr != '') {\n          dir = arr.length > 1 ? arr[1] : arr[0];\n          $template.find(\"#val-contact-twitter\").html('<span class=\"font-icon\">t</span> <a href=\"http://www.twitter.com/' + dir + '\" target=\"_blank\">' + dir + '</a>');\n        } else {\n          $template.find(\"#val-contact-twitter\").html('');\n        }\n\n        break;\n\n      case \"siteName\":\n        $(\".siteName span\").text(selections[i_id] ? selections[i_id].text : '');\n        $(\".siteName\").attr(\"href\", \"http://\" + (selections[i_id] ? selections[i_id].text : '') + \".web2b.mx\");\n        break;\n\n      default:\n        $template.find(\"#\" + v_id).html(selections[i_id] && selections[i_id].text !== '' ? selections[i_id].text : $this.attr(\"placeholder\"));\n        break;\n    }\n  };\n\n  var updateRemoveControls = function updateRemoveControls($template, selections) {\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      $(\"[id^='inp-rem-']\").each(function () {\n        var $this = $(this);\n        var v = \"Y\";\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, $this.attr(\"id\"), v, 'text');\n      });\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      $(\"[id^='inp-rem-']\").each(function () {\n        var $this = $(this);\n        var v = selections[$this.attr(\"id\")] && selections[$this.attr(\"id\")].text ? selections[$this.attr(\"id\")].text : \"N\";\n        var sec = \"\";\n\n        switch ($this.attr(\"id\")) {\n          case \"inp-rem-content-cta\":\n            sec = \"#cta\";\n            break;\n\n          case \"inp-rem-content-aboutus\":\n            sec = \"#aboutus\";\n            break;\n\n          case \"inp-rem-content-gallery\":\n            sec = \"#gallery\";\n            break;\n\n          case \"inp-rem-content-logo\":\n            sec = \"#branding\";\n            break;\n        }\n\n        if (v == \"N\") {\n          $this.prop(\"checked\", false);\n          var i = $this.attr(\"id\").replace(\"inp-rem-content\", \"#toggle\");\n          var t = $this.attr(\"id\").replace(\"inp-rem-content\", \"#conditional\");\n          $(i).find(\".fas.fa-toggle-on\").attr(\"class\", \"fas fa-toggle-off\");\n\n          _ctrl.new_menuManager.hideFormElements($(t));\n\n          $template.find(sec).hide();\n        }\n      });\n    }\n\n    if (_ctrl.sessionStatus == \"UPDATE SESSION\") {\n      $(\"[id^='inp-rem-']\").each(function () {\n        var $this = $(this);\n        var v = \"Y\";\n        var sec = \"\";\n\n        switch ($this.attr(\"id\")) {\n          case \"inp-rem-content-cta\":\n            sec = \"#cta\";\n            break;\n\n          case \"inp-rem-content-aboutus\":\n            sec = \"#aboutus\";\n            break;\n\n          case \"inp-rem-content-gallery\":\n            sec = \"#gallery\";\n            break;\n\n          case \"inp-rem-content-logo\":\n            sec = \"#branding\";\n            break;\n        }\n\n        if ($this.is(\":checked\")) {\n          v = \"Y\";\n        } else {\n          v = \"N\";\n        }\n\n        if (selections[$this.attr(\"id\")] && selections[$this.attr(\"id\")].text) {\n          selections[$this.attr(\"id\")].text = v;\n        }\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, $this.attr(\"id\"), v, 'text');\n\n        if (v == \"N\") {\n          $template.find(sec).hide();\n        } else {\n          $template.find(sec).show();\n        }\n      });\n    }\n  };\n\n  var updateImages = function updateImages(target) {\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      _ctrl.new_imageManager.setImagesOnStartSession();\n    }\n\n    if (_ctrl.sessionStatus == \"RESUME SESSION\") {\n      _ctrl.new_imageManager.setImagesOnResumeSession();\n    }\n\n    if (_ctrl.sessionStatus == \"UPDATE SESSION\") {\n      _ctrl.new_imageManager.setImagesOnUpdateSession(target);\n    }\n  };\n\n  return {\n    init: init,\n    loadTemplate: loadTemplate,\n    updateContent: updateContent,\n    hideTemplateElements: hideTemplateElements,\n    updateTexts: updateTexts\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/templateManager.js?");

/***/ }),

/***/ "./crea/js/tooltipManager.js":
/*!***********************************!*\
  !*** ./crea/js/tooltipManager.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toolTipManager;\n\nfunction toolTipManager() {\n  var setTooltips = function setTooltips() {\n    $(\".app-control-step-tooltip-info\").before($(\".app-control-step-tooltip.template\").clone().removeClass(\"template\"));\n    $(\".app-control-step-tooltip\").click(function () {\n      var $target = $(this).next(\".app-control-step-tooltip-info\");\n\n      if ($target.is(\":visible\")) {\n        $target.removeClass(\"active\");\n      } else {\n        $target.addClass(\"active\");\n      }\n    });\n  };\n\n  return {\n    setTooltips: setTooltips\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/tooltipManager.js?");

/***/ }),

/***/ "./crea/js/userValidator.js":
/*!**********************************!*\
  !*** ./crea/js/userValidator.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = userValidator;\n\nvar _dataManager = __webpack_require__(/*! ../../js/dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction userValidator() {\n  var _ctrl = null;\n  var new_dataManager = new _dataManager2.default();\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var openLoginDialog = function openLoginDialog() {\n    $(\".app-new-start.dialog\").dialog(\"option\", \"width\", 300);\n    $(\".app-new-start.dialog\").dialog(\"open\");\n  };\n\n  var setUserValidation = function setUserValidation() {\n    $(\".dialog\").dialog({\n      autoOpen: false,\n      modal: true,\n      show: {\n        effect: \"fade\",\n        duration: 1000\n      },\n      hide: {\n        effect: \"fade\",\n        duration: 1000\n      },\n      closeOnEscape: false\n    });\n\n    if (_ctrl.sessionStatus == \"START SESSION\") {\n      var userId = new_dataManager.getObjFromLocalStorage(\"web2b_userId\");\n\n      if (typeof userId === 'string' && userId != '') {\n        // crear nueva página\n        $.post(\"scripts/crear_pagina.php\", {\n          userid: userId,\n          info: encodeURIComponent(JSON.stringify(_ctrl.jd))\n        }).done(function (result) {\n          if (!result.ok) {\n            openLoginDialog();\n          } else {\n            _ctrl.new_dataManager.setDataObjects(result, _ctrl.jd);\n\n            if (result.paginas.length > 1) {\n              $(\".change-page\").show();\n            }\n          }\n        }).fail(function (result) {\n          openLoginDialog();\n        });\n      } else {\n        openLoginDialog();\n      }\n    } else {\n      _ctrl.new_PageManager.getPaginas().then(function () {\n        if (_ctrl.new_PageManager.hasPages()) $(\".change-page\").show();\n      });\n    }\n    /* ON NEW PAGE */\n\n\n    $(\".app-new-start form\").on(\"submit\", function (e) {\n      e.preventDefault();\n      $(\".form-error\").hide();\n\n      if ($(\"#nombrePagina\").val().trim() == \"\" || $(\"#correo\").val().trim() == \"\" || $(\"#password\").val().trim() == \"\") {\n        $(\".empty-fields\").css(\"display\", \"block\");\n      } else if (!_ctrl.new_validator.isValidDomain($(\"#nombrePagina\").val().trim().toLowerCase())) {\n        $(\".name-invalid\").show();\n      } else if (!_ctrl.new_validator.isEmail($(\"#correo\").val())) {\n        $(\".not-email\").css(\"display\", \"block\");\n      } else if (!_ctrl.new_validator.validPassword($(\"#password\").val())) {\n        $(\".password-invalid\").css(\"display\", \"block\");\n      } else {\n        var np = $(\"#nombrePagina\").val().trim();\n\n        _ctrl.new_dataManager.saveSelected(_ctrl.jd, 'inp-content-name', np, 'text');\n\n        $(\"#inp-content-name\").val(np);\n        var npfmt = formatValue(np);\n        $(\"#siteName\").val(npfmt);\n        $.post(\"scripts/crear_usuario.php\", {\n          correo: $(\"#correo\").val().trim(),\n          password: $(\"#password\").val(),\n          info: encodeURIComponent(JSON.stringify(_ctrl.jd))\n        }).done(function (result) {\n          if (!result.ok) {\n            $(\".otherMsgs\").html(result.error);\n            $(\".otherMsgs\").css(\"display\", \"block\");\n          } else {\n            $(\".app-new-start.dialog\").dialog('close');\n\n            _ctrl.new_dataManager.setDataObjects(result, _ctrl.jd);\n\n            if (result.paginas.length > 1) {\n              $(\".change-page\").show();\n            }\n          }\n        }).fail(function (result) {\n          response = JSON.parse(result.responseText);\n          $(\".invalid-response\").text(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + response.mensaje);\n          $(\".invalid-response\").css(\"display\", \"block\");\n        });\n      }\n    });\n  };\n\n  var formatValue = function formatValue(s) {\n    s = s.toLowerCase();\n    s = s.replace(/ /g, '');\n    s = s.replace(/á/g, 'a');\n    s = s.replace(/é/g, 'e');\n    s = s.replace(/í/g, 'i');\n    s = s.replace(/ó/g, 'o');\n    s = s.replace(/ú/g, 'u');\n    s = s.replace(/ñ/g, 'n');\n    return s;\n  };\n\n  return {\n    init: init,\n    setUserValidation: setUserValidation\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/userValidator.js?");

/***/ }),

/***/ "./crea/js/utilsManager.js":
/*!*********************************!*\
  !*** ./crea/js/utilsManager.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = utilsManager;\n\nfunction utilsManager() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var validateFields = function validateFields(element) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    if (!$(element).attr('pattern') || _ctrl.new_validator.isValidinput($(element))) {\n      $(element).closest(\".container-input\").removeClass(\"container-error\");\n    } else {\n      $(element).closest(\".container-input\").addClass(\"container-error\");\n    }\n  };\n\n  var fecha_diff = function fecha_diff(fecha) {\n    // number of days\n    var today = new Date();\n    var finArr = fecha.split(\"-\");\n    var fin = new Date(Number(finArr[0]), Number(finArr[1]) - 1, Number(finArr[2]));\n    var diff = void 0;\n\n    if (fin >= today) {\n      diff = Math.ceil(Math.abs(today - fin) / (1000 * 3600 * 24));\n    } else {\n      diff = -1;\n    }\n\n    return diff;\n  };\n\n  return {\n    init: init,\n    validateFields: validateFields,\n    fecha_diff: fecha_diff\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/utilsManager.js?");

/***/ }),

/***/ "./crea/js/validator.js":
/*!******************************!*\
  !*** ./crea/js/validator.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = validator;\n\nfunction validator() {\n  var _ctrl = null;\n\n  var init = function init(_that) {\n    _ctrl = _that;\n  };\n\n  var isValidinput = function isValidinput(element) {\n    var value = element.val();\n    var regex = new RegExp(element.attr(\"pattern\"));\n    return regex.test(value);\n  };\n\n  var isEmail = function isEmail(email) {\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    return regex.test(email);\n  };\n\n  var isValidDomain = function isValidDomain(name) {\n    var regex = /([a-z0-9])/;\n    return regex.test(name);\n  };\n\n  var validPassword = function validPassword(password) {\n    var regex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d!$%@#£€*?&]{6,}$/;\n    return regex.test(password);\n  };\n\n  return {\n    init: init,\n    isValidinput: isValidinput,\n    isEmail: isEmail,\n    isValidDomain: isValidDomain,\n    validPassword: validPassword\n  };\n}\n\n//# sourceURL=webpack:///./crea/js/validator.js?");

/***/ }),

/***/ "./js/dataManager.js":
/*!***************************!*\
  !*** ./js/dataManager.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = dataManager;\n\nfunction dataManager() {\n  var getObjFromLocalStorage = function getObjFromLocalStorage(key) {\n    var jsonData = localStorage.getItem(key);\n\n    if (jsonData == null) {\n      jsonData = {};\n\n      if (key == \"web2b\") {\n        jsonData.respuestas = {};\n      }\n    } else {\n      try {\n        jsonData = JSON.parse(jsonData);\n      } catch (e) {\n        return jsonData;\n      }\n    }\n\n    return jsonData;\n  };\n\n  var getPagesFromDB = function getPagesFromDB() {\n    var userId = getObjFromLocalStorage(\"web2b_userId\");\n    return $.get(\"scripts/getActualPages.php\", {\n      userId: userId\n    }).done(function (result) {\n      if (!result.ok) {\n        console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result.mensaje);\n      }\n\n      return result.paginas;\n    }).fail(function (result) {\n      console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result);\n      return {};\n    });\n  };\n\n  var saveWeb2bJson = function saveWeb2bJson(jd) {\n    var strJD = JSON.stringify(jd),\n        userId = getObjFromLocalStorage(\"web2b_userId\"),\n        idSitio = getObjFromLocalStorage(\"web2b_templateId\"),\n        savedJD = localStorage.getItem(\"web2b_template\");\n\n    if (strJD && savedJD != strJD && !(userId instanceof Object) && !(idSitio instanceof Object)) {\n      localStorage.setItem(\"web2b_template\", strJD);\n      $.post(\"scripts/salvar_datos.php\", {\n        userId: userId,\n        idSitio: idSitio,\n        info: encodeURIComponent(strJD)\n      }).done(function (result) {\n        if (!result.ok) {\n          console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result.mensaje);\n        }\n      }).fail(function (result) {\n        console.log(\"Algo salió mal. Por favor intentalo de nuevo mas tarde. \" + result);\n      });\n    }\n  };\n\n  var saveSelected = function saveSelected(jd, name, value, type) {\n    var selections = jd.selections || {};\n    var isSwitch = false;\n\n    if (name.includes(\"@switch\")) {\n      var arr = name.split(\"@\");\n      name = arr[0];\n      isSwitch = true;\n    }\n\n    selections[name] = selections[name] || {};\n\n    switch (type) {\n      case 'image':\n        if (isSwitch) {\n          selections[name].active = value;\n        } else {\n          selections[name].img = value;\n        }\n\n        selections[name].type = type;\n        break;\n\n      case 'text':\n        if (isSwitch) {\n          selections[name].active = value;\n        } else {\n          selections[name].text = value;\n        }\n\n        selections[name].type = type;\n        break;\n\n      case 'config':\n        selections[name].value = value;\n        selections[name].type = type;\n        break;\n    } //Save selection to object\n\n\n    jd.selections = selections;\n  };\n\n  var setDataObjects = function setDataObjects(data, jd) {\n    localStorage.removeItem(\"web2b\");\n    localStorage.setItem(\"web2b_templateId\", data.idSitio);\n    localStorage.setItem(\"web2b_userId\", data.userId);\n    localStorage.setItem(\"web2b_template\", JSON.stringify(jd));\n    localStorage.setItem(\"web2b_pages\", JSON.stringify(data.paginas));\n  };\n\n  var purgeTemplateData = function purgeTemplateData() {\n    localStorage.removeItem('web2b_actualPage');\n    localStorage.removeItem('web2b_template');\n    localStorage.removeItem('web2b_templateId');\n    localStorage.removeItem('web2b_template');\n    localStorage.removeItem(\"web2b\");\n  };\n\n  return {\n    getObjFromLocalStorage: getObjFromLocalStorage,\n    saveWeb2bJson: saveWeb2bJson,\n    saveSelected: saveSelected,\n    getPagesFromDB: getPagesFromDB,\n    setDataObjects: setDataObjects,\n    purgeTemplateData: purgeTemplateData\n  };\n}\n\n//# sourceURL=webpack:///./js/dataManager.js?");

/***/ }),

/***/ "./js/pageManager.js":
/*!***************************!*\
  !*** ./js/pageManager.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = pageManager;\n\nvar _dataManager = __webpack_require__(/*! ./dataManager */ \"./js/dataManager.js\");\n\nvar _dataManager2 = _interopRequireDefault(_dataManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction pageManager() {\n  var paginas = [],\n      new_Datamanager = new _dataManager2.default();\n\n  var setPaginasInfoFromExternal = function setPaginasInfoFromExternal(p) {\n    paginas = p;\n  };\n\n  var getPaginas = function getPaginas() {\n    return new_Datamanager.getPagesFromDB().then(function (p) {\n      var templateId = new_Datamanager.getObjFromLocalStorage(\"web2b_templateId\");\n      paginas = p.paginas;\n      localStorage.setItem(\"web2b_pages\", JSON.stringify(p.paginas));\n      p.paginas.forEach(function (value) {\n        if (Number(value.idSitio) === templateId) {\n          localStorage.setItem(\"web2b_actualPage\", JSON.stringify(value));\n        }\n      });\n    });\n  };\n\n  var fillModal = function fillModal(userId, callback) {\n    // manejar varias paginas de un solo usuario??\n    var html = \"\";\n    var actualPage = new_Datamanager.getObjFromLocalStorage(\"web2b_actualPage\");\n\n    for (var i = 0, jd; i < paginas.length; i++) {\n      // if(paginas[i].idSitio === actualPage.idSitio) continue;\n      jd = JSON.parse(decodeURIComponent(paginas[i].info));\n      var name = jd.nombre ? jd.nombre : jd.selections && jd.selections.siteName && jd.selections.siteName.text ? jd.selections.siteName.text : \"no name\";\n      if (paginas[i].idSitio === actualPage.idSitio) name = name + '(Proyecto actual)';\n      html += \"<option class=\\\"inserted\\\" value=\\\"\" + i + \"\\\">\\n                \" + name + \"\\n            </option>\";\n    }\n\n    $(\".proyectos-disponibles .inserted\").remove();\n    $(\".proyectos-disponibles\").append(html);\n    $(\".ventana-login > form\").hide();\n    $(\".login-paginas\").show();\n    $(\".llevame\").click({\n      pags: paginas,\n      userId: userId\n    }, function (e) {\n      var pagina = $(\".proyectos-disponibles option:selected\").val(),\n          d = e.data;\n\n      if (pagina != \"\") {\n        localStorage.setItem(\"web2b_template\", decodeURIComponent(d.pags[pagina].info));\n        localStorage.setItem(\"web2b_templateId\", d.pags[pagina].idSitio);\n        localStorage.setItem(\"web2b_userId\", d.userId);\n        localStorage.setItem(\"web2b_pages\", JSON.stringify(d.pags));\n        localStorage.setItem(\"web2b_actualPage\", JSON.stringify(d.pags[pagina]));\n        callback();\n      } else {\n        $(\".login-paginas .form-error\").css(\"display\", \"block\");\n      }\n    });\n  };\n\n  var hasPages = function hasPages() {\n    return paginas.length > 1 ? true : false;\n  };\n\n  return {\n    setPaginasInfoFromExternal: setPaginasInfoFromExternal,\n    getPaginas: getPaginas,\n    fillModal: fillModal,\n    hasPages: hasPages\n  };\n}\n\n//# sourceURL=webpack:///./js/pageManager.js?");

/***/ }),

/***/ "./node_modules/load-google-maps-api/index.js":
/*!****************************************************!*\
  !*** ./node_modules/load-google-maps-api/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("const API_URL = 'https://maps.googleapis.com/maps/api/js'\nconst CALLBACK_NAME = '__googleMapsApiOnLoadCallback'\n\nconst optionsKeys = ['channel', 'client', 'key', 'language', 'region', 'v']\n\nlet promise = null\n\nmodule.exports = function (options = {}) {\n  promise =\n    promise ||\n    new Promise(function (resolve, reject) {\n      // Reject the promise after a timeout\n      const timeoutId = setTimeout(function () {\n        window[CALLBACK_NAME] = function () {} // Set the on load callback to a no-op\n        reject(new Error('Could not load the Google Maps API'))\n      }, options.timeout || 10000)\n\n      // Hook up the on load callback\n      window[CALLBACK_NAME] = function () {\n        if (timeoutId !== null) {\n          clearTimeout(timeoutId)\n        }\n        resolve(window.google.maps)\n        delete window[CALLBACK_NAME]\n      }\n\n      // Prepare the `script` tag to be inserted into the page\n      const scriptElement = document.createElement('script')\n      const params = [`callback=${CALLBACK_NAME}`]\n      optionsKeys.forEach(function (key) {\n        if (options[key]) {\n          params.push(`${key}=${options[key]}`)\n        }\n      })\n      if (options.libraries && options.libraries.length) {\n        params.push(`libraries=${options.libraries.join(',')}`)\n      }\n      scriptElement.src = `${options.apiUrl || API_URL}?${params.join('&')}`\n\n      // Insert the `script` tag\n      document.body.appendChild(scriptElement)\n    })\n  return promise\n}\n\n\n//# sourceURL=webpack:///./node_modules/load-google-maps-api/index.js?");

/***/ })

/******/ });